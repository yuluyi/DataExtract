BrightTag.instance.dbe('touch supported', '(function(){\r\n  var touch \x3d \x22touch not supported\x22;\r\n  try {\r\n    if (Modernizr.touch) {\r\n      touch \x3d \x22touch supported\x22;\r\n    }\r\n  } catch (e) {\r\n    /* do nothing */\r\n  }\r\n  return touch;\r\n})();', {pageId:6988});
BrightTag.instance.dbe('mythings brand id', '\x271970\x27', {pageId:8960});
BrightTag.instance.dbe('exacttarget id', '(function() { \r\n        var et_rid \x3d \x22\x22; \r\n        try {\r\n                if (typeof BTanalytics.et_rid !\x3d \x27undefined\x27) { \r\n                        et_rid \x3d BTanalytics.et_rid; \r\n                }\r\n        } catch(e) { //Do nothing\r\n        } \r\n        return et_rid; \r\n})(); ', {pageId:6988});
BrightTag.instance.dbe('collection id, price delimited (;)', '$(\x27div.product\x27).map(function(){\r\n    if (typeof $(this).find(\x27div.data input[name\x3dprice]\x27).val() !\x3d \x27undefined\x27) {\r\n        return $(this).attr(\x27data-collection\x27)+\x27:\x27+$(this).find(\x27div.data input[name\x3dprice]\x27).val();\r\n    } else {\r\n        return $(this).attr(\x27data-collection\x27)+\x27:\x27+$(this).find(\x27span.offer-price\x27).text();\r\n    }\r\n}).get().join(\x27;\x27)', {pageId:6988});
BrightTag.instance.dbe('html body id', '$(\x27body\x27).attr(\x27id\x27) || \x22\x22', {pageId:6988});
BrightTag.instance.dbe('customer gender', '(function() { \r\n\tvar gender \x3d $(\x27select#gender\x27).val() || $(\x27select#gender-field\x27).val() || $(\x27input[name\x3dGENDER]:checked\x27).val() || \x22\x22; \r\n\tswitch ( gender ) { \r\n\t\tcase \x22M\x22: \r\n\t\t\tgender \x3d \x22Male\x22; \r\n\t\t\tbreak; \r\n\t\tcase \x22F\x22: \r\n\t\t\tgender \x3d \x22Female\x22; \r\n\t\t\tbreak; \r\n\t\tcase \x22N\x22: \r\n\t\t\tgender \x3d \x22\x22; \r\n\t\t\tbreak; \r\n\t\tcase \x22\x22: \r\n\t\t\ttry {\r\n\t\t\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\t\t\t\tif (typeof BTanalytics.gender !\x3d \x27undefined\x27) { \r\n\t\t\t\t\t\tgender \x3d BTanalytics.gender; \r\n\t\t\t\t\t} \r\n\t\t\t\t}\r\n\t\t\t} catch(e) { //Do nothing\r\n\t\t\t}\r\n\t\t\tbreak; \r\n\t} \r\n\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\tBTanalytics.gender \x3d gender; \r\n\t\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27}); \r\n\t}\r\n\treturn gender; \r\n})();', {pageId:6988});
BrightTag.instance.dbe('brand code', '\x22anf\x22', {pageId:10565});
BrightTag.instance.dbe('authcode', 'bt_parameter(\x27authcode\x27)', {pageId:6988});
BrightTag.instance.dbe('html body class', '$(\x27body\x27).attr(\x27class\x27) || \x22\x22', {pageId:6988});
BrightTag.instance.dbe('physical store number', '(function(){\n    if (bt_cookie(\x27physicalStoreId\x27)){\n        return bt_cookie(\x27physicalStoreId\x27).split(\x27#\x27)[0];\n    } else {\n        return \x22\x22;\n    }\n})();', {pageId:6988});
BrightTag.instance.dbe('sitecatalyst page event', '(function() {\r\n    var BTsc \x3d bt_cookie(\x22BTsc\x22),\r\n        event \x3d \x22\x22;\r\n    if (BTsc) {\r\n        event \x3d BTsc;\r\n    }\r\n    return event;\r\n})();', {pageId:11475});
BrightTag.instance.dbe('true resolution', 'screen.width + \x22x\x22 + screen.height', {pageId:6988});
BrightTag.instance.dbe('product id', '(function(){\r\n  try {\r\n    return ANF.catalog.data.productId;\r\n  } catch(e) { \r\n    return \x22\x22;\r\n  }\r\n})();', {pageId:6988});
BrightTag.instance.dbe('google analytics ua', '\x22UA-215602-1\x22', {pageId:10565});
BrightTag.instance.dbe('page type', '\x22checkout\x22', {pageId:11475});
BrightTag.instance.dbe('category id', '(function() {\r\n    var catID \x3d \x22\x22;\r\n    try{\r\n            catID \x3d ANF.catalog.data.categoryId;\r\n    } catch(e) {}\r\n    return catID\r\n})();', {pageId:6988});
BrightTag.instance.dbe('user generated content location', '(function(){\r\n    if (bt_parameter(\x27ugc\x27).length\x3e0) { return \x22ugc:\x22 + bt_parameter(\x27ugc\x27).toLowerCase(); }\r\n})();', {pageId:6988});
BrightTag.instance.dbe('experience page name', '(function() {\r\n\tvar bodyId \x3d $(\x27body\x27).attr(\x27id\x27) || \x22\x22;\r\n\tvar bodyClass \x3d $(\x27body\x27).attr(\x27class\x27) || \x22\x22;\r\n\r\n\tif (bodyId \x3d\x3d \x27catalog-jeansguide\x27) { \r\n\t\treturn \x27denim guide\x27;\r\n\t}\r\n\tif (bodyId\x3d\x3d \x27catalog-weatherwarrior\x27) { \r\n\t\treturn \x27weather warrior\x27;\r\n\t}\r\n\tif (bodyId\x3d\x3d \x27catalog-ghsport\x27) { \r\n\t\treturn \x27gh sport\x27;\r\n\t}\r\n\tif (bodyId\x3d\x3d \x27catalog-brasandundies\x27) { \r\n\t\treturn \x27gh bras and undies\x27;\r\n\t}\r\n\tif (bodyId\x3d\x3d \x27catalog-ghcozy\x27) { \r\n\t\treturn \x27gh sleep\x27;\r\n\t}\r\n\tif (bodyClass.indexOf(\x27gift-guide\x27) \x3e -1) { \r\n\t\treturn \x27gift guide\x27;\r\n\t}\r\n})();', {pageId:6988});
BrightTag.instance.dbe('clicktale guid', 'bt_cookie(\x22WRUID\x22)', {pageId:6988});
BrightTag.instance.dbe('currency code', '(function() {\r\n\tvar fromObject\x3d\x27\x27;\r\n\tvar fromURL\x3d\x27\x27;\r\n\tvar fromCookie\x3d\x27\x27;\r\n\tvar storeID \x3d \x27\x27\r\n\r\n\ttry {\r\n\t\tfromObject \x3d ANF.params.storeAttributes.storeId;\r\n\t\tif (fromObject !\x3d\x27\x27){ storeID \x3d fromObject; }\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\tif (storeID \x3d\x3d \x27\x27){\r\n\t\ttry {\r\n\t\t\tfromURL \x3d bt_parameter(\x27storeId\x27);\r\n\t\t\tif (fromURL !\x3d\x27\x27){ storeID \x3d fromURL; }\r\n\t\t}catch(e){ //Do nothing;\r\n\t\t}\r\n\t}\r\n\r\n\tif (storeID \x3d\x3d \x27\x27){\r\n\t\ttry {\r\n\t\t\tfromCookie \x3d $.cookie(\x27myStore\x27);\r\n\t\t\tif (fromCookie !\x3d null){ storeID \x3d fromCookie; }\r\n\t\t}catch(e){ //Do nothing;\r\n\t\t}\r\n\t}\t\r\n\r\n\tswitch (storeID.toString()) {\r\n\t\tcase \x2710051\x27: case \x2710101\x27: case \x2710251\x27: case \x2713607\x27: case \x2711203\x27: case \x2711204\x27: case \x2711205\x27: case \x2714621\x27:\r\n\t\t\tcurrencyCode \x3d \x27USD\x27;\r\n\t\t\tbreak;       \r\n\t\tcase \x2711306\x27: case \x2711307\x27: case \x2711308\x27: \r\n\t\t\tcurrencyCode \x3d \x27CAD\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2719658\x27: case \x2719161\x27: case \x2719659\x27: case \x2716609\x27:\r\n\t\t\tcurrencyCode \x3d \x27GBP\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2719159\x27: case \x2719160\x27: case \x2719158\x27:\r\n\t\t\tcurrencyCode \x3d \x27EUR\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2714108\x27:\r\n\t\t\tcurrencyCode \x3d \x27JPY\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2720658\x27:\r\n\t\t\tcurrencyCode \x3d \x27SGD\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2715108\x27: case \x2710901\x27: case \x2717608\x27: case \x2710851\x27: case \x2716607\x27: case \x2710201\x27: case \x2715108\x27: case \x2710901\x27: case \x2717608\x27: case \x2710851\x27: case \x2716607\x27: case \x2710201\x27:\r\n\t\t\tcurrencyCode \x3d \x27HKD\x27;\r\n\t\t\tbreak;\r\n\t\tdefault :                \r\n\t\t\tcurrencyCode \x3d \x27none\x27;\r\n\t}\r\n\r\n\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\tBTanalytics.currency \x3d currencyCode;\r\n\t}\r\n\treturn currencyCode;\r\n})();', {pageId:6988});
BrightTag.instance.dbe('store id', '(function () {\r\n\tvar fromObject\x3d\x27\x27;\r\n\tvar fromURL\x3d\x27\x27;\r\n\tvar fromCookie\x3d\x27\x27;\r\n\tvar baseKey \x3d \x27\x27;\r\n\tvar stepValue \x3d \x27\x27\r\n\tvar returnValue \x3d \x27\x27;\r\n\r\n\t//find possible values\r\n\ttry {\r\n\t\tfromURL \x3d bt_parameter(\x27storeId\x27).split(\x27,\x27)[0];\r\n\t\tif ($.isNumeric(fromURL) \x26\x26 fromURL.length \x3d\x3d 5) {\r\n\t\t\t// Do nothing\r\n\t\t} else {\r\n\t\t\tif (fromURL.length \x3e 5 \x26\x26 $.isNumeric(fromURL.substr(0,5))) {\r\n\t\t\t\tfromURL \x3d fromURL.substr(0,5);\r\n\t\t\t} else {\r\n                if (fromURL.length \x3e 0) {\r\n                    fromURL \x3d \x22storeid invalid\x22;\r\n                }\r\n\t\t\t}\r\n\t\t}\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromObject \x3d ANF.params.storeAttributes.storeId;\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromCookie \x3d $.cookie(\x27myStore\x27);\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\t//order of setting preference\r\n\tbaseKey \x3d fromObject || fromCookie || fromURL || \x27\x27;\r\n\r\n\r\n\t//interpret baseKey into something useful\r\n\tstepValue \x3d baseKey;\r\n\r\n\t//done determining value - assign returnValue \r\n\treturnValue \x3d stepValue\r\n\r\n\t//Any further processing?\r\n\tif (returnValue \x3d\x3d\x27\x27) {\r\n\t\treturnValue \x3d \x27storeid unavailable\x27;\r\n\t}\r\n\r\n\t//handle some cases where storeId is in the URL twice or just plain odd looking.\r\n\treturnValue \x3d returnValue.toString().split(\x22,\x22)[0];\r\n\treturnValue \x3d returnValue.toString().split(\x22_\x22)[0];\r\n\r\n\treturn returnValue;\r\n})();', {pageId:6988});
BrightTag.instance.dbe('sitecatalyst page level events', '(function (){\r\n  var events \x3d \x22\x22;\r\n  var bodyid \x3d $(\x27body\x27).attr(\x27id\x27);\r\n  switch (bodyid) {\r\n    case \x27checkout-shipping\x27:\r\n      events \x3d \x22scCheckout,event13,event14\x22;\r\n      break;\r\n    case \x27checkout-payment\x27:\r\n      events \x3d \x22event15\x22;\r\n      break;\r\n    case \x27checkout-summary\x27:\r\n      events \x3d \x22event16\x22;\r\n      break;\r\n  }\r\n  return events;\r\n})();', {pageId:11475});
BrightTag.instance.dbe('usewebproductid', 'true', {pageId:6988});
BrightTag.instance.dbe('espotkey', 'bt_parameter(\x27espotKey\x27)', {pageId:6988});
BrightTag.instance.dbe('motionpoint subdomain', '(function(){\r\n\tvar thisSite \x3d window.location.host;\r\n\tvar arr_thisSite \x3d thisSite.split(\x22.\x22);\r\n\tvar env \x3d arr_thisSite[0];\r\n\tvar subdomain \x3d arr_thisSite[0];\r\n\r\n\tfor (i\x3d1;i\x3carr_thisSite.length-2;i++){\r\n\t\tenv +\x3d \x22.\x22 + arr_thisSite[i];\r\n\t}\r\n\r\n\tif (env.indexOf(\x22-\x22) \x3e -1) { return env; } \r\n}());', {pageId:6988});
BrightTag.instance.dbe('collection ids, price flag delimited (;)', '$(\x27div.product\x27).map(function(){return $(this).attr(\x27data-collection\x27)+\x27,\x27+$(this).find(\x27div.price\x27).attr(\x27data-priceflag\x27);}).get().join(\x27;\x27)', {pageId:6988});
BrightTag.instance.dbe('product finding method', '(function(){\r\n    if (document.URL.indexOf(\x22\x26cmp\x3d\x22)\x3e0) return \x22external campaign\x22;\r\n    if (document.URL.indexOf(\x22?cmp\x3d\x22)\x3e0) return \x22external campaign\x22;\r\n    if (document.URL.indexOf(\x22\x26icmp\x3d\x22)\x3e0) return \x22internal campaign\x22;\r\n    if (document.URL.indexOf(\x22?icmp\x3d\x22)\x3e0) return \x22internal campaign\x22;\r\n    if (document.referrer.indexOf(\x22Search\x22)\x3e0) return \x22internal search\x22;\r\n    if (document.URL.indexOf(\x22\x26ugc\x3d\x22)\x3e0) return \x22ugc\x22;\r\n    if (document.URL.indexOf(\x22?ugc\x3d\x22)\x3e0) return \x22ugc\x22;\r\n    if (document.referrer.split(\x27/\x27)[2] !\x3d document.domain) return \x22external non-campaign\x22;\r\n    return \x22navigation\x22\r\n})();', {pageId:6988});
BrightTag.instance.dbe('site language', '(function(){\n\tvar thisSite \x3d window.location.host;\n\tvar arr_thisSite \x3d thisSite.split(\x22.\x22);\n\tvar env \x3d arr_thisSite[0];\n\tvar subdomain \x3d arr_thisSite[0];\n\n\tfor (i\x3d1;i\x3carr_thisSite.length-2;i++){\n\t\tenv +\x3d \x22.\x22 + arr_thisSite[i];\n\t}\n\n\tif (env.indexOf(\x22-\x22) \x3e -1) { return env; } else { return \x22en\x22; }\n}());', {pageId:6988});
BrightTag.instance.dbe('country code', '(function () {\r\n\tvar fromObject\x3d\x27\x27;\r\n\tvar fromURL\x3d\x27\x27;\r\n\tvar fromCookie\x3d\x27\x27;\r\n\tvar baseKey \x3d \x27\x27;\r\n\tvar stepValue \x3d \x27\x27\r\n\tvar returnValue \x3d \x27\x27;\r\n\r\n\t//find possible values\r\n\ttry {\r\n\t\tfromURL \x3d bt_parameter(\x27storeId\x27);\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromObject \x3d ANF.params.storeAttributes.storeId;\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromCookie \x3d $.cookie(\x27myStore\x27);\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\t//order of setting preference\r\n\tbaseKey \x3d fromObject || fromURL || fromCookie || \x27\x27;\r\n\tbaseKey \x3d baseKey.toString();\r\n\tbaseKey \x3d baseKey.split(\x22,\x22)[0];\r\n\tbaseKey \x3d baseKey.split(\x22_\x22)[0];\r\n\r\n\r\n\t//interpret baseKey into something useful\r\n\tswitch (baseKey.toString()) {\r\n\t\tcase \x2711306\x27: case \x2711307\x27: case \x2711308\x27: \r\n\t\t\tstepValue \x3d \x27ca\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2719158\x27: case \x2719159\x27: case \x2719160\x27: \r\n\t\t\tstepValue \x3d \x27eu\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2716609\x27: case \x2719161\x27: case \x2719658\x27: case \x2719659\x27:\r\n\t\t\tstepValue \x3d \x27gb\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2715108\x27: case \x2716607\x27: case \x2717608\x27: \r\n\t\t\tstepValue \x3d \x27hk\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2714108\x27:\r\n\t\t\tstepValue \x3d \x27jp\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2711203\x27: case \x2711204\x27: case \x2711205\x27: case \x2714621\x27: \r\n\t\t\tstepValue \x3d \x27mx\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2720658\x27:\r\n\t\t\tstepValue \x3d \x27sg\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2710051\x27: case \x2710101\x27: case \x2710251\x27: case \x2713607\x27:  \r\n\t\t\tstepValue \x3d \x27us\x27;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tstepValue \x3d \x27country unavailable\x27;\r\n\t}\r\n\r\n\t//done determining value - assign returnValue \r\n\treturnValue \x3d stepValue\r\n\r\n\t//Any further processing?\r\n\r\n\t//Set return \r\n\treturn returnValue.toLowerCase();\r\n})();\r\n', {pageId:6988});
BrightTag.instance.dbe('language preference', '(function(){\r\n\t/* Language from brower settings */\r\n\tvar browserLang \x3d (navigator.language) ? navigator.language : navigator.userLanguage;\r\n\tif (typeof browserLang \x3d\x3d \x27undefined\x27) { browserLang \x3d \x22\x22 };\r\n\r\n\treturn browserLang.toLowerCase();\r\n})();', {pageId:6988});
BrightTag.instance.dbe('sitecatalyst page path', '(function () {\r\n  var bodyid \x3d $(\x27body\x27).attr(\x27id\x27) || \x22\x22;\r\n  var bodyclass \x3d $(\x27body\x27).attr(\x27class\x27) || \x22\x22;\r\n  var pg \x3d \x22\x22;\r\n\r\n  /* TRY the ANF.catalog.data.categoryHierarchyObj - this exists for all non-error CMS dreiven pages */\r\n  try { var categoryHierarchyObj \x3d ANF.catalog.data.categoryHierarchyObj; } catch(e) { }\r\n  if (typeof categoryHierarchyObj !\x3d \x27undefined\x27) {\r\n    $.each( ANF.catalog.data.categoryHierarchyObj, function (i, v){ pg +\x3d \x22:\x22+v.name.toLowerCase();});\r\n  }\r\n\r\n  /* Adjustments */\r\n  if (bodyid \x3d\x3d \x27home\x27) {\r\n    pg +\x3d \x22:home\x22;\r\n  } else if (bodyid \x3d\x3d \x27catalog-jeansguide\x27) {\r\n    /* Denim Guide */\r\n    pg \x3d \x22:denim guide\x22;\r\n    var currentSection \x3d $(\x27.jean-nav .active\x27).attr(\x27rel\x27);\r\n    if (currentSection \x3d\x3d \x27fit\x27) { pg +\x3d \x22:fit\x22; }\r\n    if (currentSection \x3d\x3d \x27wash\x27) { pg +\x3d \x22:wash\x22; }\r\n  } else if (bodyid \x3d\x3d \x27brand-content\x27) {\r\n    /* brand content top-nav linked pages */\r\n    pg +\x3d \x22:\x22 + $(\x27#primary-nav #lifestyle h2\x27).text().toLowerCase();\r\n  }\r\n\r\n  if (bodyid \x3d\x3d null \x26\x26 pg \x3d\x3d \x27\x27) {\r\n    pg +\x3d \x22:\x22 + \x27unknown\x27;\r\n  } else if (bodyid !\x3d null \x26\x26 pg \x3d\x3d \x27\x27) {\r\n    pg +\x3d \x22:\x22 + bodyid.split(\x27-\x27).join(\x27:\x27);\r\n    pg \x3d pg.replace(\x27accountsection\x27,\x27my account\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n    pg \x3d pg.replace(\x27catalog:searchview\x27,\x27search\x27).toLowerCase(); /* rename \x22Search Results\x22 */\r\n  }\r\n\r\n  if (bodyclass.indexOf(\x27matching-set-view\x27) \x3e 0) { \r\n    pg +\x3d \x22:matching set\x22;\r\n  }\r\n\r\n  if (typeof $(\x27div.gift-guide-nav .selected a\x27).html() !\x3d\x3d \x27undefined\x27 \x26\x26 $(\x27div.gift-guide-nav .selected a\x27).html() !\x3d\x3d null) {\r\n    pg +\x3d \x22:\x22 + $(\x27div.gift-guide-nav .selected a\x27).html();\r\n  }\r\n\r\n  /* STEP 4: ADD PDP PRODUCT NAMES */\r\n  if (bodyid \x3d\x3d \x27catalog-productpageview\x27 \x26\x26 typeof $(\x27.product-add-to-bag input[name\x3d\x22name\x22]\x27).val() !\x3d \x27undefined\x27 \x26\x26 $(\x27.product-add-to-bag input[name\x3d\x22name\x22]\x27).val() !\x3d\x3d null) {\r\n    pg +\x3d \x22:\x22 + $(\x27.product-add-to-bag input[name\x3d\x22name\x22]:first\x27).val();\r\n  }\r\n\r\n  if (bodyid \x3d\x3d \x27catalog-giftcard\x27) {\r\n    pg +\x3d \x22:\x22 + $(\x27.add-to-bag input[name\x3d\x22collectionId\x22]:first\x27).val();\r\n  }\r\n\r\n  if (bt_parameter(\x27pageName\x27) !\x3d \x22\x22) {\r\n    /* Customer Service pages */\r\n    pg +\x3d \x22:\x22 + bt_parameter(\x27pageName\x27);\r\n  }\r\n\r\n  /* Some overrides */\r\n  if (window.location.pathname.indexOf(\x27ANFSubmitShipping\x27) \x3e -1) {\r\n    //return \x22:checkout:shipping:error\x22;\r\n  } else if (window.location.pathname.indexOf(\x27DoPaymentErrorView\x27) \x3e -1) {\r\n    //return \x22:checkout:payment:error\x22;\r\n  } else if (window.location.pathname.indexOf(\x27ForwardToPayPalExpress\x27) \x3e -1) {\r\n    return \x22:checkout:verify for paypal express\x22;\r\n  } else if (window.location.pathname.indexOf(\x27BillToShippingCheck\x27) \x3e -1) {\r\n    return \x22:checkout:verify for bill to shipping\x22;\r\n  } \r\n\r\n  /* replace quotes and apostrophes */\r\n  return pg.replace(/\x27/g,\x22\x22).replace(/\x22/g,\x22\x26quot;\x22).toLowerCase();\r\n})();\r\n', {pageId:6988});
BrightTag.instance.dbe('user id', '(function() {\r\n    var pers \x3d $.cookie(\x27WC_PERSISTENT\x27);\r\n    var thisId \x3d \x22\x22;\r\n    try {\r\n        thisId \x3d pers.split(ANF.params.storeAttributes.storeId + \x27_\x27)[1].split(\x27,\x27)[0];\r\n        if (thisId \x3d\x3d \x27-1002\x27) thisId \x3d \x22\x22;\r\n    } catch (e) {\r\n    //do nothing\r\n    }\r\n    \r\n    if (thisId !\x3d \x22\x22) {\r\n      if ($.cookie(\x27WC_USERACTIVITY_\x27+thisId) \x3d\x3d null ) {\r\n        thisId \x3d \x22\x22;\r\n      }\r\n    }\r\n    return thisId;\r\n})(); ', {pageId:6988});
BrightTag.instance.dbe('sitecatalyst products string', '$(\x27.product-image img\x27).map(function(){return \x27;\x27 + $(this).attr(\x27src\x27).split(\x27_\x27).slice(1,2);}).get().join(\x22,\x22)', {pageId:11475});
BrightTag.instance.dbe('customer first name', '$(\x27#util-account\x27).attr(\x27data-first-name\x27)', {pageId:6988});
BrightTag.instance.dbe('do not track indicator', '(function(){\r\n  var isDNT \x3d (navigator.doNotTrack \x3d\x3d \x22yes\x22 || navigator.doNotTrack \x3d\x3d \x221\x22 || navigator.msDoNotTrack \x3d\x3d \x221\x22) ? \x22do not track\x22 : \x22ok to track\x22;\r\n  return isDNT;\r\n})();', {pageId:6988});
BrightTag.instance.appendContent('\x3cscript src\x3d\x22//s.btstatic.com/lib/Qpejd48/a664419dfc91d3ae448cfc4b599967422535d83f.js\x22\x3e\x3c/script\x3e\n\x3cscript type\x3d\x22text/javascript\x22\x3e\n    if (typeof BTanalytics \x3d\x3d \x27undefined\x27) { var BTanalytics \x3d {}; }\n    var pCat \x3d \x22:\x22 + \x22'+bt_data_escaped('sitecatalyst page path')+'\x22.split(\x22:\x22)[1] || \x22\x22;\n    var subpCat \x3d (\x22'+bt_data_escaped('sitecatalyst page path')+'\x22.split(\x22:\x22).length \x3e 2 ) ? \x22:\x22 + \x22'+bt_data_escaped('sitecatalyst page path')+'\x22.split(\x22:\x22)[2] : \x22\x22;\n    var tertiaryCat \x3d (\x22'+bt_data_escaped('sitecatalyst page path')+'\x22.split(\x22:\x22).length \x3e 3 ) ? \x22:\x22 + \x22'+bt_data_escaped('sitecatalyst page path')+'\x22.split(\x22:\x22)[3] : \x22\x22;\n    var repudiation \x3d ($(\x27div.repudiation\x27).length \x3e 0) ? \x22:repudiation\x22 : \x22\x22;\n    var soldout \x3d ($(\x27#soldout-wrap\x27).length \x3e 0) ? \x22:soldout\x22 : \x22\x22;\n\n    /* Standard Variables */\n    s.currencyCode \x3d \x27'+bt_data_escaped('currency code')+'\x27;\n    s.pageName \x3d \x22'+bt_data_escaped('brand code')+'\x22 + \x22:\x22 + \x22'+bt_data_escaped('country code')+'\x22 + \x22'+bt_data_escaped('sitecatalyst page path')+'\x22 + repudiation + soldout;\n    s.pageName \x3d s.pageName.toLowerCase();\n    s.channel \x3d \x22'+bt_data_escaped('brand code')+'\x22 + \x22:\x22 + \x22'+bt_data_escaped('country code')+'\x22 + pCat + soldout;\n    s.channel \x3d s.channel.toLowerCase();\n    s.prevPage \x3d BTanalytics.prevPage;\n    s.purchaseID \x3d \x22'+bt_data_escaped('purchase id')+'\x22;\n    s.state\x3d\x22'+bt_data_escaped('shipping state')+'\x22;\n    s.zip\x3d\x22'+bt_data_escaped('shipping zip code')+'\x22;\n\n    /* EVENTS */\n    if (!s.events) { s.events \x3d \x22\x22; };\n    \n    if (\x22'+bt_data_escaped('sitecatalyst page event')+'\x22 !\x3d \x22\x22) {\n        s.events \x3d s.events + \x22,'+bt_data_escaped('sitecatalyst page event')+'\x22; \n    }\n\n    if (\x22'+bt_data_escaped('sitecatalyst page level events')+'\x22 !\x3d \x22\x22) {\n        s.events \x3d s.events + \x22,'+bt_data_escaped('sitecatalyst page level events')+'\x22; \n    }\n\n    /* PROPS */\n    s.prop1 \x3d \x22'+bt_data_escaped('brand code')+'\x22 + \x22:\x22 + \x22'+bt_data_escaped('country code')+'\x22 + pCat + subpCat + soldout;\n    s.prop1 \x3d s.prop1.toLowerCase();\n    s.prop2 \x3d \x22'+bt_data_escaped('brand code')+'\x22 + \x22:\x22 + \x22'+bt_data_escaped('country code')+'\x22 + pCat + subpCat + tertiaryCat + soldout;\n    s.prop2 \x3d s.prop2.toLowerCase();\n    s.prop3 \x3d \x22'+bt_data_escaped('brand code')+'\x22 + \x22:\x22 + \x22'+bt_data_escaped('country code')+'\x22 + \x22:\x22 + \x22'+bt_data_escaped('page type')+'\x22;\n    s.prop3 \x3d s.prop3.toLowerCase();\n    s.prop4 \x3d \x22'+bt_data_escaped('brand code')+'\x22.toLowerCase();\n    s.prop5 \x3d \x22'+bt_data_escaped('country code')+'\x22.toLowerCase();\n    s.prop6 \x3d \x22'+bt_data_escaped('category id')+'\x22 || s.channel;\n    s.prop6 \x3d s.prop6.toLowerCase();\n    s.prop7 \x3d \x22'+bt_data_escaped('motion point test value')+'\x22;\n    s.prop10 \x3d \x22BrightTag Desktop\x22;\n    s.prop17 \x3d \x22'+bt_data_escaped('language preference')+'\x22;\n    s.prop22 \x3d (typeof optly !\x3d \x27undefined\x27) ? \x22Optimizely\x22 : \x22\x22;\n    s.prop23 \x3d \x22'+bt_data_escaped('brand code')+'\x22 + \x22'+bt_data_escaped('sitecatalyst page path')+'\x22 + repudiation + soldout;\n    if ( BTanalytics.searchEvent \x3d\x3d \x27true\x27 ) { s.prop24 \x3d \x22'+bt_data_escaped('search results quantity (internal)')+'\x22; } else { s.prop24 \x3d \x22\x22; }\n    if ( BTanalytics.searchEvent \x3d\x3d \x27true\x27 ) { s.prop25 \x3d \x22'+bt_data_escaped('search results keyword (internal)')+'\x22;  var setTerm \x3d s.getPreviousValue(s.prop25,\x22LastSearchTerm\x22); } else { s.prop25 \x3d \x22non-search\x22; }\n    if ( BTanalytics.searchEvent !\x3d \x27true\x27 \x26\x26 \x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x22search\x22) { s.prop25 \x3d \x22'+bt_data_escaped('search results keyword (internal)')+'\x22;}\n    s.prop30 \x3d  window.location.href.split(\x22/\x22).slice(2).join(\x22/\x22).split(\x22?\x22).slice(0,1).toString();\n    s.prop31 \x3d \x22'+bt_data_escaped('campaign code')+'\x22;\n    s.prop32 \x3d $.cookie(\x27JSESSIONID\x27);\n    if ($(\x27.find-in-store-tab\x27).length \x3e0) {\n        s.prop34 \x3d \x27Find In Store Available\x27;\n    }\n    s.prop45 \x3d \x22'+bt_data_escaped('site language')+'\x22;\n    s.prop46 \x3d window.location.toString().split(\x27?\x27)[1] || \x22\x22;\n    if (typeof BTanalytics.certona !\x3d \x22undefined\x22) { s.prop51 \x3d BTanalytics.certona.split(\x27:\x27)[0]; } else { s.prop51 \x3d \x22'+bt_data_escaped('product finding method')+'\x22; }\n    s.prop52 \x3d \x22'+bt_data_escaped('touch supported')+'\x22;\n    s.prop53 \x3d \x22'+bt_data_escaped('true resolution')+'\x22;\n    s.prop54 \x3d \x22'+bt_data_escaped('do not track indicator')+'\x22;\n    s.prop55 \x3d \x22'+bt_data_escaped('user generated content location')+'\x22.toLowerCase();\n\n    /* EVARS */\n    s.eVar1 \x3d \x22'+bt_data_escaped('store id')+'\x22;\n    s.eVar2 \x3d \x22'+bt_data_escaped('physical store number')+'\x22;\n    s.eVar4 \x3d s.currencyCode;\n    s.eVar6 \x3d \x22\x22;\n    s.eVar11 \x3d $.cookie(\x27JSESSIONID\x27);\n    if (BTanalytics.searchEvent \x3d\x3d \x27true\x27) { s.eVar14 \x3d \x22'+bt_data_escaped('search results keyword (internal)')+'\x22; } else { s.eVar14 \x3d \x22Non-Search\x22; }\n    if (BTanalytics.searchEvent !\x3d \x27true\x27 \x26\x26 \x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x22search\x22) { s.eVar14 \x3d BTanalytics.searchTerm; }\n    if (typeof BTanalytics.searchTermForPDP !\x3d \x27undefined\x27) { s.eVar14 \x3d BTanalytics.searchTermForPDP;  delete BTanalytics.searchTermForPDP; }\n    if (s.eVar14 \x3d\x3d \x22\x22) { s.eVar14 \x3d \x22Non-Search\x22; }\n\n    /* do not grab email ids for kids\x27 site */\n    if (\x22'+bt_data_escaped('brand code')+'\x22 !\x3d \x22kids\x22) {\n        s.eVar15 \x3d \x22'+bt_data_escaped('exacttarget id')+'\x22;\n    }\n\n    s.eVar17 \x3d \x22\x22;\n        foresee_evar17\x3d\x22\x22;\n\n    if (\x22'+bt_data_escaped('customer first name')+'\x22 !\x3d \x22\x22) {\n        s.eVar20 \x3d \x22'+bt_data_escaped('customer first name')+'\x22;\n    }\n    \n    s.eVar21 \x3d \x22'+bt_data_escaped('payment type')+'\x22;\n    \n    /* do not grab email ids for kids\x27 site */\n    if (\x22'+bt_data_escaped('brand code')+'\x22 !\x3d \x22kids\x22) {\n        if (s.getQueryParam(\x27om_rid\x27).length\x3e0) {\n            s.eVar39\x3ds.getPreviousValue(s.getQueryParam(\x27om_rid\x27),\x22CheetahMailID\x22);\n            s.eVar39\x3ds.getQueryParam(\x27om_rid\x27)\n        }\n\n        if (!s.eVar39) {\n            var prev_eVar39 \x3d s.getPreviousValue(s.eVar39,\x22CheetahMailID\x22);\n            if (prev_eVar39 !\x3d \x22no value\x22) {\n                s.eVar39\x3ds.getPreviousValue(prev_eVar39,\x22CheetahMailID\x22);\n                s.eVar39\x3dprev_eVar39;\n            } else {\n                s.eVar39 \x3d \x22\x22;\n            }\n        }\n    }\n\n    s.eVar43 \x3d \x22'+bt_data_escaped('device id')+'\x22;\n    s.eVar48 \x3d \x22'+bt_data_escaped('promo used')+'\x22;\n    s.eVar52\x3d\x22'+bt_data_escaped('email campaign id')+'\x22;\n    s.eVar53 \x3d \x22'+bt_data_escaped('authcode')+'\x22;\n    s.eVar54 \x3d \x22'+bt_data_escaped('clicktale guid')+'\x22;\n    s.eVar63 \x3d \x22'+bt_data_escaped('user id')+'\x22\n    s.eVar64 \x3d BTanalytics.prevPage;\n    if ( BTanalytics.searchEvent \x3d\x3d \x27true\x27 ) { s.eVar65 \x3d \x22+1\x22; } else { s.eVar65 \x3d \x22\x22; }\n    if ( BTanalytics.searchEvent \x3d\x3d \x27true\x27 ) { s.eVar66 \x3d \x22+1\x22; } else { s.eVar66 \x3d \x22\x22; }\n    s.eVar71 \x3d navigator.userAgent;\n    s.eVar72 \x3d \x22'+bt_data_escaped('motionpoint subdomain')+'\x22;\n\n    /* Product Finding Methods, etc. */\n        BTanalytics.brand \x3d \x22'+bt_data_escaped('brand code')+'\x22;\n        BTanalytics.prodViewType \x3d \x22'+bt_data_escaped('prodview type')+'\x22;\n        BTanalytics.v5 \x3d (\x22'+bt_data_escaped('category id')+'\x22 || s.channel)\n\n        //Attribute Certona-Recommedations/RecentlyViewed Clicks\n        var v18_prodFindingMethod \x3d (\x22'+bt_data_escaped('user generated content location')+'\x22 || \x22'+bt_data_escaped('experience page name')+'\x22 || \x22page load\x22).toLowerCase().replace(\x27ugc:\x27,\x27\x27); /* remove ugc from here because it is in prop51 */\n        try {\n            /* BTanalytics.certona \x3d \x27certona-recos:recommendations\x27; */\n            if (BTanalytics.certona !\x3d \x27\x27) {\n                v18_prodFindingMethod \x3d BTanalytics.certona.split(\x27:\x27)[1];\n                delete BTanalytics.certona;\n            }\n        } catch(e) { //Do Nothing\n        }\n    \n        BTanalytics.v18 \x3d (s.prop51 + \x22:\x22 + v18_prodFindingMethod.replace(\x22:\x22,\x22-\x22) + \x22:'+bt_data_escaped('page type')+'\x22) || \x27unknown-pageload\x27;\n\n    /* Check for Social Sign On */\n    /* Note... due to an error in analytics.logonStandard firing at the end of SSO, even if the user is not authenticated */\n    /* we eat the event and store a proxy for it using BTanalytics.SSOLoginCheck\x3d\x27Y\x27 */\n    /* when a user clicks on an SSO button, we store the provider name as BTanalytics.SSOProvider  */\n    /* for pages where SSO appears, we look to see if the URL parameter \x22isSSO\x3dtrue\x22 */\n    /* to determine if they are \x22almost done\x22, we look for whether the \x22almost done\x22 text is visible on the page */\n\n    if (typeof BTanalytics !\x3d \x27undefined\x27) {\n        if ($(\x27div.sso div.success h2\x27).text().toLowerCase().indexOf(\x27disconnect\x27) \x3e -1) {\n            delete BTanalytics.SSOProvider;\n        }\n\n        if (typeof BTanalytics.SSOProvider !\x3d \x27undefined\x27){\n            if(window.location.pathname.indexOf(\x27LogonForm\x27) \x3e -1 \x26\x26 bt_parameter(\x27isSSO\x27) \x3d\x3d \x27true\x27) {\n                s.prop50 \x3d BTanalytics.SSOProvider;\n                s.events \x3d s.events + \x27,event65\x27;\n                if ($(\x27.sso-almost-done\x27).is(\x22:visible\x22)){\n                    s.events \x3d s.events + \x27,event66\x27;\n                    s.pageName +\x3d \x22:almost done\x22;\n                }\n            }\n            if(window.location.pathname.indexOf(\x27UserRegistrationForm\x27) \x3e -1 \x26\x26 bt_parameter(\x27isSSO\x27) \x3d\x3d \x27true\x27) {\n                s.prop50 \x3d BTanalytics.SSOProvider;\n                s.events \x3d s.events + \x27,event65\x27;\n                if ($(\x27.sso-almost-done\x27).is(\x22:visible\x22)){\n                    s.events \x3d s.events + \x27,event66\x27;\n                    s.pageName +\x3d \x22:almost done\x22;\n                }\n            }\n            if(window.location.pathname.indexOf(\x27UserRegisterSubscriptionForm\x27) \x3e -1 \x26\x26 bt_parameter(\x27isSSO\x27) \x3d\x3d \x27true\x27) {\n                s.prop50 \x3d BTanalytics.SSOProvider;\n                if (BTanalytics.SSOLoginCheck \x3d\x3d \x27Y\x27){\n                    if (s.events.indexOf(\x27event17\x27) \x3d\x3d -1) {s.events \x3d s.events + \x27,event17\x27;}\n                    delete BTanalytics.SSOLoginCheck;\n                }\n            }\n            if(window.location.pathname.indexOf(\x27UserAccountView\x27) \x3e -1 \x26\x26 bt_parameter(\x27isSSO\x27) \x3d\x3d \x27true\x27) {\n                s.prop50 \x3d BTanalytics.SSOProvider;\n                s.events \x3d s.events + \x27,event65\x27;\n            }\n            if(window.location.pathname.indexOf(\x27SocialSignOnDisplay\x27) \x3e -1 \x26\x26 bt_parameter(\x27isSSO\x27) \x3d\x3d \x27true\x27) {\n                s.prop50 \x3d BTanalytics.SSOProvider;\n                s.events \x3d s.events + \x27,event65\x27;\n            }\n            if(window.location.pathname.indexOf(\x27OrderShippingSectionDisplayView\x27) \x3e -1 \x26\x26 bt_parameter(\x27isSSO\x27) \x3d\x3d \x27true\x27) {\n                s.prop50 \x3d BTanalytics.SSOProvider;\n                s.events \x3d s.events + \x27,event65\x27;\n                if ($(\x27.sso-almost-done\x27).is(\x22:visible\x22)){\n                    s.events \x3d s.events + \x27,event66\x27;\n                } else if (BTanalytics.SSOLoginCheck \x3d\x3d \x27Y\x27){\n                    if (s.events.indexOf(\x27event17\x27) \x3d\x3d -1) {s.events \x3d s.events + \x27,event17\x27;}\n                    delete BTanalytics.SSOLoginCheck;\n                }\n            }\n            delete BTanalytics.SSOProvider;\n        }\n\n        /* put the login event back onto the UserAccountView page */\n        if (window.location.pathname.indexOf(\x27UserAccountView\x27) \x3e -1 \x26\x26 BTanalytics.SSOLoginCheck \x3d\x3d \x27Y\x27) {\n            if (s.events.indexOf(\x27event17\x27) \x3d\x3d -1) {s.events \x3d s.events + \x27,event17\x27;}\n            delete BTanalytics.SSOLoginCheck;\n        } else  if (BTanalytics.SSOLoginCheck \x3d\x3d \x27Y\x27 \x26\x26 $(\x27#checkout-user.logged-on\x27).length\x3e0 ) {\n            if (s.events.indexOf(\x27event17\x27) \x3d\x3d -1) {s.events \x3d s.events + \x27,event17\x27;}\n            delete BTanalytics.SSOLoginCheck;\n        }\n    }\n\n/* PRODUCTS */\n    /* record multiple product views on one page */\n    if (\x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x27pdp\x27 || \x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x27multi pdp\x27 || \x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x27key looks\x27 || (\x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x27category\x27 \x26\x26 (\x22'+bt_data_escaped('html body id')+'\x22 \x3d\x3d \x27catalog-keylooksview\x27 || \x22'+bt_data_escaped('html body id')+'\x22 \x3d\x3d \x27catalog-productpageview\x27)) || \x22'+bt_data_escaped('html body id')+'\x22 \x3d\x3d \x27catalog-giftcard\x27) {\n        var arrProducts \x3d  \x22'+bt_data_escaped('collection ids, price flag delimited (;)')+'\x22.split(\x27;\x27);\n        if (arrProducts !\x3d \x27\x27) {\n            /*    Add these events to the events list (if not already present): prodView, event11, event36, and event69 (event12 if multi-product page)*/\n                if (typeof s.events \x3d\x3d \x27undefined\x27) {\n                    s.events \x3d \x27prodView,event11,event36,event37,event69\x27;\n                } else {\n                    if (s.events.indexOf(\x27prodView\x27) \x3d\x3d -1 ) { s.events +\x3d \x27,prodView\x27; }\n                    if (s.events.indexOf(\x27event11\x27) \x3d\x3d -1 ) { s.events +\x3d \x27,event11\x27; }\n                    if (s.events.indexOf(\x27event37\x27) \x3d\x3d -1 ) { s.events +\x3d \x27,event37\x27; }\n                    if (s.events.indexOf(\x27event69\x27) \x3d\x3d -1 ) { s.events +\x3d \x27,event69\x27; }\n                    if (s.events.indexOf(\x27event73\x27) \x3d\x3d -1 ) { s.events +\x3d \x27,event73\x27; }\n                }\n    \n                if (arrProducts.length \x3e 1) {\n                    if (s.events.indexOf(\x27event12\x27) \x3d\x3d -1 ) { s.events +\x3d \x27,event12\x27; }\n                }\n\n                var arrProductsLen \x3d arrProducts.length;\n                for (i\x3d0; i\x3carrProductsLen; i++) {\n                    /*  For each Product in the collection: */\n                    /*  Add a \x27record\x27 to the products listing containing the CollectionID and eVar23 (price flag) */\n                    var arrThisProduct \x3d arrProducts[i].split(\x27,\x27);\n                    if (s.products) {\n                        if (s.products.indexOf(arrThisProduct[0]) \x3d\x3d -1 ) {\n                            /* this product not in s.products - so add it */\n                            s.products +\x3d \x27,\x27 + (\x27;\x27+ arrThisProduct[0] + \x27;;;;eVar23\x3d\x27 + arrThisProduct[1]+ \x27|eVar5\x3d\x27+BTanalytics.v5 + \x27|eVar18\x3d\x27+BTanalytics.v18);\n                        } else {\n                            /* this product in s.products, so leave it (mostly) alone */\n                            if (arrProductsLen \x3d\x3d 1) {\n                                s.products \x3d s.products+ \x27|eVar5\x3d\x27+BTanalytics.v5 + \x27|eVar18\x3d\x27+BTanalytics.v18;\n                            }\n                        }\n                    } else {\n                        /* s.products is empty, let\x27s fill it up */\n                        s.products \x3d (\x27;\x27+ arrThisProduct[0] + \x27;;;;eVar23\x3d\x27 + arrThisProduct[1]+ \x27|eVar5\x3d\x27+BTanalytics.v5 + \x27|eVar18\x3d\x27+BTanalytics.v18);\n                    }\n                }\n                s.eVar28 \x3d \x27Product Detail Browse\x27;\n        } else {\n            if (\x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x27pdp\x27 \x26\x26 $(\x27#soldout-wrap\x27).length \x3e 0) { \n                s.eVar6 \x3d \x27\x27;\n                s.eVar28 \x3d \x27\x27;\n                s.eVar61 \x3d \x27\x27;\n                s.eVar62 \x3d \x27\x27;\n                s.events \x3d \x27\x27;\n                s.products \x3d \x27\x27;\n            }\n        }\n    }\n\n/*Checkout*/\nif (\x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x27checkout\x27 || \x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x27shopping cart\x27) {\n    s.products \x3d \x22'+bt_data_escaped('sitecatalyst products string')+'\x22;\n}\n\n/*Order Confirmation */\nif (\x22'+bt_data_escaped('page type')+'\x22 \x3d\x3d \x27order confirmation\x27) {\n    s.products\x3d\x22'+bt_data_escaped('sitecatalyst products string')+'\x22;\n    s.purchaseID\x3d\x22'+bt_data_escaped('purchase id')+'\x22;\n    s.state\x3d\x22'+bt_data_escaped('shipping state')+'\x22;\n    s.zip\x3d\x22'+bt_data_escaped('shipping zip code')+'\x22;\n    s.eVar26\x3d\x22'+bt_data_escaped('shipping state')+'\x22;\n    s.eVar27\x3d\x22'+bt_data_escaped('shipping zip code')+'\x22;\n    s.eVar32\x3d\x22'+bt_data_escaped('promo code')+'\x22;\n    s.eVar34\x3d\x22'+bt_data_escaped('shipping country')+'\x22;\n    s.eVar35\x3d\x22'+bt_data_escaped('billing country')+'\x22;\n    s.eVar38\x3d\x22'+bt_data_escaped('shipping type')+'\x22;\n    s.eVar47\x3d\x22'+bt_data_escaped('gift card used')+'\x22;\n    s.eVar49\x3d\x22'+bt_data_escaped('billing state')+'\x22;\n    s.eVar50\x3d\x22'+bt_data_escaped('billing zip code')+'\x22;\n    s.eVar59\x3d\x22'+bt_data_escaped('purchase total')+'\x22;\n    s.eVar60\x3d\x22'+bt_data_escaped('purchase increment')+'\x22; \n    var purchaseFlag \x3d s.getPreviousValue(\x22Y\x22,\x22BuyerInd\x22); \n\n    if (\x22'+bt_data_escaped('html body id')+'\x22 \x3d\x3d \x27checkoutsection-receipt\x27 || \x22'+bt_data_escaped('html body id')+'\x22 \x3d\x3d \x27checkout-receipt\x27) {\n        if (s.eVar32 !\x3d \x27\x27) {\n            s.prop20 \x3d \x221\x22;\n        } else {\n            s.prop20 \x3d \x270\x27;\n        }\n\n        if (bt_cookie(\x27scOpen\x27) !\x3d \x27\x27 \x26\x26 !isNaN(Date.parse(new Date(bt_cookie(\x27scOpen\x27)))) ) { \n            /* scOpen cookie exists with a date inside it */\n            /* Let\x27s calculate the time between the open and the order completion (now) */\n            var scOpen \x3d Date.parse(bt_cookie(\x27scOpen\x27)) \n            var now \x3d Date.parse(new Date()); \n            var difference \x3d now - scOpen; \n            s.eVar70 \x3d parseInt(difference / 1000 / 60 / 60).toString(); \n            /* Now to empty out the cookie */\n            var date \x3d new Date( );\n            date.setTime( date.getTime( )+( -1*24*60*60*1000));\n            var expires \x3d \x22; expires\x3d\x22+date.toUTCString( );\n            document.cookie \x3d \x22scOpen\x3d\x22+ \x22; expires\x3d\x22+date.toUTCString()+ \x27; path\x3d/\x27;  \n        } else {\n            s.eVar70 \x3d \x27Had a prior Shopping Cart, but the time it was opened is unavailable.\x27; \n        }\n    }\n}\n\n/* Error Pages */\n    if (\x22'+bt_data_escaped('html body class')+'\x22.indexOf(\x27error\x27) \x3e -1) {\n        var errorCode \x3d  $(\x27body\x27).attr(\x27data-error-code\x27) || \x27unknownCode\x27;\n        var errorType \x3d $(\x27body\x27).attr(\x27data-error-type\x27) || \x27unknownType\x27;\n        if ( errorCode \x3d\x3d \x27404\x27) { \n            s.pageType\x3d\x22errorPage\x22; \n            s.pageName \x3d \x22\x22;\n            s.eVar46 \x3d s.prop1 \x3d s.prop2 \x3d \x22'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':\x22 + errorCode + \x27-\x27 + errorType;\n        } else {\n            s.pageName \x3d s.eVar46 \x3d s.prop1 \x3d s.prop2 \x3d \x22'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':\x22 + errorCode + \x27-\x27 + errorType;\n        }\n\n        s.channel \x3d s.prop3 \x3d \x22'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':error\x22.toLowerCase();\n    s.events \x3d \x22\x22;\n    s.products \x3d \x22\x22;\n\n        s.eVar1 \x3d \x22'+bt_data_escaped('store id')+'\x22;\n        s.eVar2 \x3d \x22'+bt_data_escaped('physical store number')+'\x22;\n        s.eVar11 \x3d s.prop32 \x3d bt_cookie(\x27JSESSIONID\x27).split(\x27:\x27)[0];\n        s.eVar64 \x3d document.referrer.toLowerCase();\n\n        s.prop4 \x3d \x22'+bt_data_escaped('brand code')+'\x22;\n        s.prop5 \x3d \x22'+bt_data_escaped('country code')+'\x22;\n        s.prop11 \x3d window.location.toString().toLowerCase();\n        s.prop12 \x3d document.referrer;\n        s.prop23 \x3d \x22'+bt_data_escaped('brand code')+':\x22 + errorCode + \x27-\x27 + errorType;\n        s.prop30 \x3d window.location.href.split(\x22/\x22).slice(2).join(\x22/\x22).split(\x22?\x22).slice(0,1).toString();\n    }\n\n/* Rising Stars */\n    if (\x22'+bt_data_escaped('html body class')+'\x22.indexOf(\x27rising-stars-section\x27) \x3e -1) {\n        var risingStarsPage \x3d location.hash.replace(\x27#!\x27,\x27\x27).replace(new RegExp(\x27/\x27, \x27g\x27),\x27:\x27);\n        var clickVal \x3d location.hash.replace(\x27#!\x27,\x27\x27).replace(new RegExp(\x27/\x27, \x27g\x27),\x27:\x27).split(\x27:\x27);\n        var content \x3d category \x3d subcategory \x3d \x22\x22;\n        if (clickVal[0].length \x3e 0 ) { \n            content \x3d \x22:\x22 + risingStarsPage;\n            category \x3d \x22:\x22 + clickVal[0];\n        }\n        try {\n            if (clickVal[1].length \x3e 0 ) { \n                subcategory \x3d \x22:\x22 + clickVal[1];\n            }\n        } catch(e) {\n            subcategory \x3d \x22\x22;\n        }\n\n        s.pageName\x3d\x22'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':rising stars\x22 + risingStarsPage ;\n        s.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\n\n        s.prop23\x3d\x22'+bt_data_escaped('brand code')+':rising stars\x22 + risingStarsPage ;\n        s.prop23\x3ds.prop23.toLowerCase();\n\n        s.prop1\x3d\x22'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':rising stars\x22 + category;\n        s.prop1\x3ds.channel\x3ds.prop1.toLowerCase();\n\n        s.prop2\x3d\x22'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':rising stars\x22 + category + subcategory;\n        s.prop2\x3ds.prop2.toLowerCase();\n    }\n\n/* Store Opening */\n    if (window.location.toString().indexOf(\x27StoreOpening\x27) \x3e -1) {\n        s.pageName \x3d s.eVar46 \x3d s.prop2 \x3d \x22'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':store event:'+bt_data_escaped('store opening name')+'\x22;\n        s.channel \x3d s.prop1 \x3d s.prop3 \x3d \x22'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':store event\x22;\n        s.eVar1 \x3d \x22'+bt_data_escaped('store id')+'\x22;\n\n        try {\n            switch (bt_cookie(\x27userType\x27)) {\n            case \x27G\x27:\n                s.eVar3 \x3d \x27Anonymous\x27;\n                break;\n            case \x27GR\x27:\n                s.eVar3 \x3d \x27Remembered Anonymous\x27;\n                break;\n            case \x27R\x27:\n                s.eVar3 \x3d \x27Remembered\x27;\n                break;\n            case \x27RR\x27:\n                s.eVar3 \x3d \x27Remembered Authenticated\x27;\n                break;\n            default:\n                s.eVar3 \x3d \x27Anonymous\x27;\n            }\n        } catch(e) { s.eVar3 \x3d \x27Anonymous\x27; }\n\n\n        s.prop4 \x3d \x22'+bt_data_escaped('brand code')+'\x22;\n        s.prop5 \x3d \x22'+bt_data_escaped('country code')+'\x22;\n        s.prop11 \x3d window.location.toString().toLowerCase();\n        s.eVar11 \x3d s.prop32 \x3d bt_cookie(\x27JSESSIONID\x27).split(\x27:\x27)[0];\n        s.prop12 \x3d document.referrer;\n\n        s.prop23 \x3d \x22'+bt_data_escaped('brand code')+':store opening:\x22 + $(\x27body\x27).attr(\x27data-store-location\x27);\n        s.prop30 \x3d window.location.href.split(\x22/\x22).slice(2).join(\x22/\x22).split(\x22?\x22).slice(0,1).toString();\n        s.eVar64 \x3d document.referrer.toLowerCase();\n    }\n\n/* Brand Experience (aka landing pages) */\n    if (window.location.toString().indexOf(\x27BrandExperience\x27) \x3e -1) {\n        s.currencyCode\x3d\x27'+bt_data_escaped('currency code')+'\x27;\n        s.channel\x3d\x27'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':'+bt_data_escaped('espotkey')+'\x27.toLowerCase();\n        s.pageName\x3ds.eVar46\x3d\x27'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':'+bt_data_escaped('espotkey')+'\x27.toLowerCase();\n        s.prop1\x3d\x27'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':'+bt_data_escaped('espotkey')+'\x27.toLowerCase();\n        s.prop2\x3d\x27'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':'+bt_data_escaped('espotkey')+'\x27.toLowerCase();\n        s.prop3\x3d\x27'+bt_data_escaped('brand code')+':'+bt_data_escaped('country code')+':'+bt_data_escaped('espotkey')+'\x27.toLowerCase();\n        s.prop4\x3d\x27'+bt_data_escaped('brand code')+'\x27.toLowerCase();\n        s.prop5\x3d\x27'+bt_data_escaped('country code')+'\x27.toLowerCase();\n        s.prop23 \x3d \x27'+bt_data_escaped('brand code')+':'+bt_data_escaped('espotkey')+'\x27.toLowerCase();\n        s.prop32\x3ds.eVar11\x3d$.cookie(\x27JSESSIONID\x27);\n        s.eVar11 \x3d s.prop32 \x3d bt_cookie(\x27JSESSIONID\x27).split(\x27:\x27)[0];\n    }\n\n/* Switch from Collection ID to WebProductID */\n    if (\x22'+bt_data_escaped('usewebproductid')+'\x22 \x3d\x3d \x22true\x22 \x26\x26 s.products) {\n        var arrsProducts \x3d s.products.split(\x27,\x27);\n        \n        for (i\x3d0; i\x3carrsProducts.length; i++) {\n            var arrThisProductsString \x3d arrsProducts[i].split(\x27;\x27);\n            var thisModifiedLongSku \x3d \x22unknown-value-here\x22;\n\n            /*Add To Bag*/\n            if ($(\x27#product-add-to-bag-\x27 + arrThisProductsString[1] + \x27\x27).length \x3e 0) {\n                thisModifiedLongSku \x3d $(\x27#product-add-to-bag-\x27 + arrThisProductsString[1] + \x27\x27).parent().parent().parent().find(\x27li.store-item-number .number\x27).text() || \x22unkown-addTo-Bag\x22;\n            }\n\n            /*Shopping Cart*/\n            if ($(\x27tr.item\x27).length \x3e 0) {\n                thisModifiedLongSku \x3d $($(\x27tr.item\x27)[i]).attr(\x27data-longsku\x27) || \x27unknown-shopping-cart\x27;\n            }\n\n            /*Checkout Step 1*/\n            if ($(\x27#shopping-bag\x27).length \x3e 0) {\n                thisModifiedLongSku \x3d $($(\x27.product-details\x27)[i]).attr(\x27data-longsku\x27) || \x27unknown-checkout-step1\x27;\n            }\n\n            /*Order Confirmation*/\n            if ($(\x27#shopping-bag .item\x27).length \x3e 0) {\n                /* Order Confirmation s.products ends in a comma, so it\x27s length is one too big */\n                thisModifiedLongSku \x3d $($(\x27#shopping-bag .item\x27)[i]).attr(\x27data-longsku\x27) || \x27unknown-order-confirmation\x27;\n            }\n\n            var arrThisModifiedLongSku \x3d thisModifiedLongSku.split(\x27-\x27);\n            var thisWebProductID \x3d arrThisProductsString[1] + \x27-\x27 + arrThisModifiedLongSku[0]  + \x27-\x27 + arrThisModifiedLongSku[1] + \x27-\x27 + arrThisModifiedLongSku[2]; \n            if (arrsProducts[i].indexOf(\x27GIFT\x27) \x3d\x3d -1) { \n                arrsProducts[i] \x3d arrsProducts[i].replace(arrThisProductsString[1],thisWebProductID);\n            }\n        }\n        var newSProducts \x3d arrsProducts.join(\x27,\x27);\n        s.products \x3d newSProducts;\n    }\n\n/* Optimizely SiteCatalyst Integration */\n    window.optimizely \x3d window.optimizely || [];\n    window.optimizely.push(\x22activateSiteCatalyst\x22); \n    if (typeof s.prop38 !\x3d \x22undefined\x22) {\n        if (s.prop38 !\x3d \x22\x22) {\n            BTanalytics.Birthday \x3d \x22true\x22;\n        }\n    }\n\n/* Fail safes */\n    if (typeof s.pageName !\x3d \x27undefined\x27 \x26 s.pageName !\x3d \x22\x22) {\n        s.eVar46 \x3d s.pageName;\n        s.hier1 \x3d s.pageName.split(\x27:\x27).slice(0,-1).join(\x27:\x27);\n        s.hier2 \x3d s.pageName.split(\x27:\x27)[0] + (function(){ var categories \x3d s.pageName.split(\x27:\x27).slice(2,-1).join(\x27:\x27); if (categories !\x3d \x22\x22) { return \x22:\x22 + categories; } else { return \x22\x22; }})();\n        BTanalytics.prevPage \x3d s.pageName\n    }\n\n    s.t();\n\n    if(s.u.toLowerCase().indexOf(\x27google web preview\x27)!\x3d-1){\n        s.tl(this,\x22o\x22,\x22Web Preview - Google\x22)\n    }\n    if(s.u.toLowerCase().indexOf(\x27bingpreview\x27)!\x3d-1){\n        s.tl(this,\x22o\x22,\x22Web Preview - Bing\x22)\n    }\n\n    /* empty values used above that ought not persist*/\n    document.cookie \x3d \x22BTsc\x3d;path\x3d/\x22;\n    delete BTanalytics.searchEvent;\n    delete BTanalytics.certona;\n\n    /* Trigger any tags that were waiting for SiteCatalyst to finish */\n    $(window).trigger(\x27brightTag.SiteCatalystDone\x27);\n    \n    /* Save any object updates back into the cookie */\n    if (typeof $.cookie !\x3d \x27undefined\x27) {\n        $.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\n    }\n\n\x3c/script\x3e\n',{tagId:14404});
BrightTag.instance.appendContent('\x3cscript type\x3d\x22text/javascript\x22\x3e\n\n        var _gaq \x3d window._gaq || [];\n        _gaq.push([\x27_setAccount\x27, (""+bt_data(\x27google analytics ua\x27))]);\n        _gaq.push([\x27_trackPageview\x27]);\n\n        (function() {\n          var ga \x3d document.createElement(\x27script\x27); ga.type \x3d \x27text/javascript\x27; ga.async \x3d true;\n          ga.src \x3d \x27//ssl.google-analytics.com/ga.js\x27;\n          var s \x3d document.getElementsByTagName(\x27script\x27)[0]; s.parentNode.insertBefore(ga, s);\n        })();\n\n      \x3c/script\x3e',{tagId:15073});
BrightTag.instance.appendContent('\x3cscript type\x3d\x22text/javascript\x22\x3e\n      function _mt_ready(){\n        if (typeof(MyThings) !\x3d \x22undefined\x22) {\n          MyThings.Track({\n            EventType: MyThings.Event.Visit,\n            Action: \x22300\x22\n          });\n        }\n      }\n      var mtHost \x3d \x22//rainbow-us.mythings.com\x22;\n      var mtAdvertiserToken \x3d \x22'+escape(bt_data_escaped('mythings brand id'))+'-100-us-100-us\x22;\n    \x3c/script\x3e\n    \x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22//rainbow-us.mythings.com/c.aspx?atok\x3d'+encodeURIComponent(bt_data_escaped('mythings brand id'))+'-100-us-100-us\x22\x3e\x3c/script\x3e',{tagId:168603});
BrightTag.EventBinding.when('sso login start').execute('s.linkTrackVars \x3d \x22events,prop23,prop50,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event64\x22;\r\ns.events \x3d \x22event64\x22;\r\ns.prop50 \x3d bt_data(\x27sso provider\x27);\r\ns.tl(this,\x22o\x22,\x22Social Sign On\x22);  \r\n\r\nif (typeof BTanalytics !\x3d \x27undefined\x27) {\r\n    BTanalytics.SSOProvider \x3d bt_data(\x27sso provider\x27);\r\n    $.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n}',{tagId:14404});
BrightTag.EventBinding.when('color swatch').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\nif (typeof s.products !\x3d \x27undefined\x27) {\r\n\tif (s.products.indexOf(trackProductId) \x3d\x3d -1) {\r\n\t\t/* WebProductId not in s.products, we need to record e69 */\r\n\t\ts.linkTrackVars \x3d \x22events,products,prop15,prop23,prop39,eVar46\x22;\r\n\t\ts.linkTrackEvents \x3d \x22event37,event69\x22;\r\n\t\ts.events \x3d \x22event37,event69\x22;\r\n\t} else {\r\n\t\t/* WebProductId already in s.products, we already recorded e69 for this item */\r\n\t\ts.linkTrackVars \x3d \x22events,products,prop15,prop23,prop39,eVar46\x22;\r\n\t\ts.linkTrackEvents \x3d \x22event37\x22;\r\n\t\ts.events \x3d \x22event37\x22;\r\n\t}\r\n}\r\n\r\nvar useV18\x3dBTanalytics.v18\r\nif (typeof BTanalytics.QV !\x3d \x27undefined\x27){\r\n    if (bt_data(\x27collection id\x27) \x3d\x3d BTanalytics.QV.clickCollectionID) {\r\n        useV18 \x3d s.eVar18;\r\n    }\r\n}\r\n\r\ns.prop15 \x3d \x22swatches\x22;\r\ns.prop39 \x3d bt_data(\x27product color code\x27);\r\ns.products \x3d \x22;\x22 + trackProductId + \x27;;;;eVar5\x3d\x27 + BTanalytics.v5 + \x27|eVar6\x3d\x27 + s.eVar6 + \x27|eVar18\x3d\x27 + useV18;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('pick-a-polo: pop').execute('s.products \x3d s.events \x3d \x27\x27;\r\ns.pageName\x3ds.eVar46\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:Mens:Polos:Custom Polo:Pop\x22;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:Mens:Polos:Custom Polo:Pop\x22;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('sso login complete').execute('/*\r\ns.linkTrackVars \x3d \x22events,prop23,prop50,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event65\x22;\r\ns.events \x3d \x22event65\x22;\r\ns.prop50 \x3d bt_data(\x27sso provider\x27);\r\ns.tl(this,\x22o\x22,\x22Social Sign On\x22);  \r\n*/',{tagId:14404});
BrightTag.EventBinding.when('product zoom').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d \x22zoom\x22\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('add to wish list').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\ns.linkTrackVars \x3d \x22events,prop15,products,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event71\x22;\r\ns.events \x3d \x22event71\x22;\r\ns.prop15 \x3d \x22add to wish list\x22;\r\ns.products \x3d \x22;\x22 + trackProductId;\r\ns.tl(this,\x22o\x22, \x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('sso disconnect').execute('s.linkTrackVars \x3d \x22prop23,eVar46\x22;\r\ns.prop50 \x3d bt_data(\x27sso provider\x27);\r\ns.tl(this,\x22o\x22,\x22Social Sign On - Disconnect\x22);  \r\n',{tagId:14404});
BrightTag.EventBinding.when('sofort').execute('s.linkTrackVars \x3d \x22events,prop23,eVar21,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22; \r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);',{tagId:14404});
BrightTag.EventBinding.when('remove from mini wish list').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d \x22remove wishlist\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('foresee invite exit').execute('s.linkTrackVars\x3d\x22pageName,prop16,prop22,prop23,prop30,eVar1,eVar11,eVar16,eVar46\x22;\r\ns.eVar16\x3d\x22foresee invite exit\x22;\r\ns.tl(this,\x27o\x27,\x27ForeSee\x27);',{tagId:14404});
BrightTag.EventBinding.when('quick view recommendations accordion').execute('/* nothing */',{tagId:14404});
BrightTag.EventBinding.when('find in store results').execute('var c_v22 \x3d s.eVar22;\r\n\r\ns.linkTrackVars \x3d \x22prop15,prop23,prop47,prop48,eVar46\x22;\r\ns.prop15 \x3d \x22Find In Store Results\x22;\r\ns.prop47 \x3d bt_data(\x27find in store results\x27).split(\x27:\x27)[0];\r\ns.prop48 \x3d bt_data(\x27find in store results\x27).split(\x27:\x27)[1];\r\ns.eVar22 \x3d \x22find in store\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);\r\n\r\ns.eVar22 \x3d c_v22;',{tagId:14404});
BrightTag.EventBinding.when('place order').execute('s.linkTrackVars \x3d \x22events,prop23,eVar21,eVar33,eVar46\x22;\r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\nif ($(\x27#use-shipping-address-checkbox\x27).attr(\x27checked\x27) \x3d\x3d \x27checked\x27) {\r\n  s.eVar33 \x3d \x22yes\x22\r\n} else {\r\n  s.eVar33 \x3d \x22no\x22\r\n}\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22;\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);',{tagId:14404});
BrightTag.EventBinding.when('remove from mini cart').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27product id\x27);\r\n\r\nvar builtlist \x3d \x27;\x27 + trackProductId+ \x27;;;\x27;\r\nbuiltlist +\x3d  \x27event72\x3d\x27 + bt_data(\x27product subtotal\x27) + \x27|event39\x3d\x27 + bt_data(\x27product quantity\x27) + \x27;\x27;\r\nbuiltlist +\x3d  \x27eVar23\x3d\x27 + bt_data(\x27product price flag\x27) + \x27|eVar24\x3d\x27 + bt_data(\x27product color code\x27) + \x27|eVar25\x3d\x27 + bt_data(\x27product list price\x27) + \x27|eVar37\x3d\x27 + bt_data(\x27product long sku\x27);\r\ns.products \x3d builtlist;\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22scRemove,event29,event39,event72\x22;\r\ns.events \x3d \x22scRemove,event29,event39,event72\x22;\r\ns.eVar57 \x3d \x22remove\x22;\r\ns.prop15 \x3d \x22remove\x22;\r\ns.tl(true,\x22o\x22,\x22Cart Removal\x22);',{tagId:14404});
BrightTag.EventBinding.when('avs closed').execute('if (bt_data(\x27boolean\x27) \x3d\x3d \x27true\x27) {\r\n  s.linkTrackVars \x3d \x22events,prop23,eVar44,eVar46\x22;\r\n  s.linkTrackEvents \x3d \x22event27\x22;\r\n  s.events \x3d \x22event27\x22;\r\n  s.eVar44 \x3d bt_data(\x27avs action code\x27);\r\n  s.tl(this,\x22o\x22,\x22AVS\x22);\r\n}',{tagId:14404});
BrightTag.EventBinding.when('share with friend').execute('s.linkTrackVars \x3d \x22events,prop15,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event51\x22;\r\ns.events \x3d \x22event51\x22;\r\ns.prop15 \x3d \x22email a friend\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('webmoney').execute('s.linkTrackVars \x3d \x22events,prop23,eVar21,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22; \r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);',{tagId:14404});
BrightTag.EventBinding.when('find in store add to bag click').execute('if (typeof BTanalytics !\x3d \x22undefined\x22) {\r\n    BTanalytics.fis_atb \x3d \x22Y\x22;\r\n}\r\n\r\ns.linkTrackVars \x3d \x22prop23,eVar46\x22;\r\ns.linkTrackEvents\x3d\x22\x22;\r\ns.events\x3d\x22\x22;\r\ns.tl(this,\x22o\x22,\x22Find In Store Add To Bag click\x22);',{tagId:14404});
BrightTag.EventBinding.when('quickview complete').execute('bt_log(\x27QV\x27);\r\nif (bt_data(\x27boolean\x27) \x3d\x3d \x27true\x27) {\r\n//    bt_log(\x27Quick View Complete says: this is *NOT* a known non-prodView event, we will record it\x27);\r\n    try {\r\n        /* Set up the object for this collection\x27s quickview */\r\n        BTanalytics.QV.loadedCollectionId \x3d $(\x27div#simplemodal-container div.updated-product-page\x27).attr(\x27id\x27).replace(\x27product-\x27, \x27\x27);\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId] \x3d {}\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId \x3d BTanalytics.QV.loadedCollectionId;\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].ProdViewType \x3d BTanalytics.QV.ProdViewType;\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].productId \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 input[name\x3d\x22productId\x22]\x27).val() || \x22\x22;\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].colorSeq \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 input[name\x3d\x22cseq\x22]\x27).val();\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].priceFlag \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 input[name\x3d\x22priceFlag\x22]\x27).val();\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].listPrice \x3d (function () {\r\n            var listPrice \x3d $(\x27[data-collection\x3d\x22\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27\x22] .price .list-price:first\x27).text().replace(/[^\\d,.]/g, \x27\x27);\r\n            var addToBagPrice \x3d \x22\x22;\r\n            if (typeof $(\x27#product-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 .product-add-to-bag input[name\x3d\x22price\x22]\x27).val() !\x3d \x27undefined\x27) {\r\n                addToBagPrice \x3d $(\x27#product-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 .product-add-to-bag input[name\x3d\x22price\x22]\x27).val().toString().replace(/[^\\d,.]/g, \x27\x27);\r\n            }\r\n            return listPrice || addToBagPrice;\r\n        })();\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].offerPrice \x3d (function () {\r\n            var offerPrice \x3d $(\x27[data-collection\x3d\x22\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27\x22] .price .offer-price:first\x27).text().replace(/[^\\d,.]/g, \x27\x27);\r\n            var addToBagPrice \x3d \x22\x22;\r\n            if (typeof $(\x27#product-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 .product-add-to-bag input[name\x3d\x22price\x22]\x27).val() !\x3d \x27undefined\x27) {\r\n                addToBagPrice \x3d $(\x27#product-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 .product-add-to-bag input[name\x3d\x22price\x22]\x27).val().toString().replace(/[^\\d,.]/g, \x27\x27);\r\n            }\r\n            return offerPrice || addToBagPrice;\r\n        })();\r\n\r\n\t/* Do not trust the price input field during add to bag - store the list and offer prices to use for ATB events */\r\n\tBTanalytics.QV.listPrice \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].listPrice;\r\n\tBTanalytics.QV.offerPrice \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].offerPrice;\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].modifiedLongSku \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 input[name\x3d\x22longSku\x22]\x27).val() || \x27unknown-quickview-modal\x27;\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].brandDept \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[0];\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].classNumber \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[1];\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].styleNumber \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[2];\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].webProductId \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].brandDept + \x27-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].classNumber + \x27-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].styleNumber;\r\n\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].shortSku \x3d \x27\x27;\r\n        BTanalytics.QV[BTanalytics.QV.loadedCollectionId].selectedSize \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 li.size.select span\x27).text().trim();\r\n        if (BTanalytics.QV[BTanalytics.QV.loadedCollectionId].selectedSize !\x3d \x27\x27) {\r\n            $(\x27#partNumber-\x27 + BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId + \x27 option\x27).each(function () {\r\n                var $this \x3d $(this);\r\n                if ($($this).text().trim() \x3d\x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].selectedSize) {\r\n                    BTanalytics.QV[BTanalytics.QV.loadedCollectionId].shortSku \x3d $($this).attr(\x27value\x27);\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n\r\n        /* Assign values to SiteCat variables */\r\n\ts.linkTrackVars \x3d \x22events,products,prop21,prop23,eVar28,eVar39,eVar46,eVar61,eVar62\x22;\r\n\ts.linkTrackEvents \x3d \x22prodView,event11,event19,event37,event69,event73\x22;\r\n\ts.events \x3d \x22prodView,event11,event19,event37,event69,event73\x22;\r\n\ts.prop21 \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId;\r\n\ts.eVar5 \x3d (bt_data(\x27category id\x27) || s.channel);\r\n\ts.eVar18 \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].ProdViewType || \x27unknown-quickview\x27;\r\n\ts.eVar23 \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].priceFlag;\r\n\ts.eVar28 \x3d \x22quick shop browse\x22;\r\n\t/* s.eVar39 \x3d do not set here - persist from page */\r\n\t/* s.eVar46 \x3d do not set here - persist from page */\r\n\ts.eVar61 \x3d \x22+1\x22;\r\n\ts.eVar62 \x3d \x22+1\x22;\r\n\r\n\tvar trackProductId \x3d s.prop21;\r\n\tif (bt_data(\x27usewebproductid\x27) \x3d\x3d true) { trackProductId \x3d BTanalytics.QV[BTanalytics.QV.loadedCollectionId].webProductId; }\r\n\r\n\t/* record the current product view so we can test against it when user changes swatch or size */\r\n\tBTanalytics.pView \x3d trackProductId;\r\n\r\n\ts.products \x3d \x22;\x22 + trackProductId  + \x27;;;;eVar5\x3d\x27 + s.eVar5 + \x27|eVar23\x3d\x27 + s.eVar23 + \x27|eVar18\x3d\x27 + s.eVar18;\r\n\r\n        /* s.tl(true, \x22o\x22, \x22Quickshop Product View\x22); */\r\n\ts.tl(true, \x22o\x22, \x22Quick View Complete\x22); \r\n//        bt_log(\x27Quick View Complete says: prodView for \x27 + trackProductId + \x27 complete\x27);\r\n\r\n        /* delete the click-events to guarantee we don\x27t cookie or re-use these values */\r\n        /* we will save the collection-specific values in case the user adds the product to their shopping cart */\r\n\tdelete BTanalytics.QV.PageFindingMethod;\r\n        delete BTanalytics.QV.ProductFindingMethod;\r\n        delete BTanalytics.QV.ProdViewType;\r\n        delete BTanalytics.QV.PageType;\r\n        delete BTanalytics.QV.loadedCollectionId;\r\n\r\n    } catch (e) {\r\n        if ($(\x27#soldout-wrap\x27).length \x3e0){\r\n            /* Sold Out */\r\n//            bt_log(\x27sold out\x27);\r\n            BTanalytics.QV.loadedCollectionId \x3d BTanalytics.QV.clickCollectionID;\r\n            BTanalytics.QV[BTanalytics.QV.loadedCollectionId] \x3d {}\r\n            BTanalytics.QV[BTanalytics.QV.loadedCollectionId].collectionId \x3d BTanalytics.QV.clickCollectionID;\r\n            BTanalytics.QV[BTanalytics.QV.loadedCollectionId].ProdViewType \x3d BTanalytics.QV.ProdViewType;\r\n            BTanalytics.QV[BTanalytics.QV.loadedCollectionId].ProductFindingMethod \x3d BTanalytics.QV.ProductFindingMethod;\r\n            $(window).trigger(\x27soldout-quickview\x27);\r\n        } else {\r\n//            bt_log(\x27Quick View Complete says: error recording data for collection:\x27 + BTanalytics.QV.loadedCollectionId);\r\n            s.linkTrackVars \x3d \x22\x22;\r\n            s.linkTrackEvents \x3d \x22\x22;\r\n            s.events \x3d \x22\x22;\r\n            s.tl(true, \x22o\x22, \x22Quick View Complete Error\x22);\r\n        }\r\n    }\r\n} else {\r\n//    bt_log(\x27Quick View Complete says: this is a known non-prodView event, we did not record it\x27);\r\n}',{tagId:14404});
BrightTag.EventBinding.when('share via google+').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\ns.linkTrackVars \x3d \x22products,prop15,prop23,prop49,eVar46\x22;\r\nif (trackProductId !\x3d \x27\x27){\r\n\ts.prop15 \x3d \x22share google plus\x22;\r\n\ts.products \x3d \x22;\x22 + trackProductId;\r\n}\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('pick-a-polo: build more').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d s.pageName + \x22:Build More\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);\r\n\r\ns.products \x3d s.events \x3d \x27\x27;\r\ns.pageName\x3ds.eVar46\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:Mens:Polos:Custom Polo:Size\x22;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:Mens:Polos:Custom Polo:Size\x22;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('edit mini cart').execute('s.linkTrackVars \x3d \x22events,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22event29\x22;\r\ns.events \x3d \x22event29\x22;\r\ns.eVar57 \x3d \x22edit\x22;\r\ns.prop15 \x3d \x22edit cart\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('weather warrior inteaction').execute('s.linkTrackVars \x3d \x22prop23,prop49,eVar46\x22;\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Weather Warrior Interaction\x22); ',{tagId:14404});
BrightTag.EventBinding.when('pdp \x22size chart\x22 tab').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d \x22size chart\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('legal link - checkout footer - site use').execute('s.linkTrackVars\x3d\x22prop23,prop43,eVar46\x22;\r\ns.prop43 \x3d \x22footer:site use\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('paypal express').execute('s.linkTrackVars \x3d \x22events,prop23,eVar21,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22; \r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);\r\n\r\nif (typeof BTanalytics !\x3d \x27undefined\x27) {\r\n\tBTanalytics.paypal_express \x3d \x27Y\x27;\r\n\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n}',{tagId:14404});
BrightTag.EventBinding.when('email opt-in').execute('document.cookie\x3d\x22BTsc\x3d\x22 + bt_data(\x27sitecatalyst page event\x27) + \x22;path\x3d/\x22;',{tagId:14404});
BrightTag.EventBinding.when('store opening click').execute('s.linkTrackVars\x3d\x22prop23,eVar46\x22;\r\nvar theLink \x3d \x27store opening:\x27 + $(\x27body\x27).attr(\x27data-store-location\x27) + \x27:\x27 + bt_data(\x27store opening link name\x27);\r\ns.tl(true,\x22o\x22,theLink);',{tagId:14404});
BrightTag.EventBinding.when('misc feature track').execute('s.linkTrackVars \x3d \x22prop23,prop49,eVar46\x22;\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Misc Link Tracked in c49\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('avs go back and edit').execute('s.linkTrackVars \x3d \x22events,prop23,eVar44,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event27\x22;\r\ns.events \x3d \x22event27\x22;\r\ns.eVar44 \x3d bt_data(\x27avs action code\x27);\r\ns.tl(this,\x22o\x22,\x22AVS\x22);',{tagId:14404});
BrightTag.EventBinding.when('legal link - learn more about shipping \x26 handling').execute('s.linkTrackVars\x3d\x22prop23,prop42,eVar46\x22;\r\ns.prop42 \x3d \x22sumsect:ship and handling\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('add to bag button - wishlist').execute('function BTgetPrice(BTprice) {\r\n    if (BTprice !\x3d \x27\x27 \x26\x26 typeof BTprice !\x3d \x27undefined\x27) {\r\n\t\tBTprice \x3d BTprice.replace(/[^\\.\\,0-9]/g,\x27\x27)\r\n\t\tif (BTprice.length\x3e2){\r\n\t\t\tif (BTprice.substring(BTprice.length-3,BTprice.length-2) \x3d\x3d \x27,\x27 || BTprice.substring(BTprice.length-3,BTprice.length-2) \x3d\x3d \x27.\x27) {\r\n\t\t\t\tBTprice \x3d BTprice.substring(0,BTprice.length-3) + \x27.\x27 + BTprice.substring(BTprice.length-2,BTprice.length);\r\n\t\t\t} else if (BTprice.substring(BTprice.length-2,BTprice.length-1) \x3d\x3d \x27,\x27 || BTprice.substring(BTprice.length-2,BTprice.length-1) \x3d\x3d \x27.\x27) {\r\n\t\t\t\tBTprice \x3d BTprice.substring(0,BTprice.length-2) + \x27.\x27 + BTprice.substring(BTprice.length-1,BTprice.length);\r\n\t\t\t} else { \r\n\t\t\t\tBTprice \x3d BTprice.replace(/[^\\d]/g,\x27\x27);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tBTprice \x3d parseFloat(BTprice).toFixed(2);\r\n\tif (!isNaN(BTprice)) {\r\n\t\treturn BTprice;\r\n\t} else {\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\ntry {\r\n    /* Set up the object for this item\x27s Add To Bag */\r\n\tdelete BTanalytics.ATB;\r\n\tBTanalytics.ATB \x3d {};\r\n\t/* due to duplicate collection IDs on this page, we need to use the part number (short sku) to identify which row contains the item being added */\r\n\tBTanalytics.ATB.loadedPartNumber \x3d bt_data(\x27add to bag part number\x27);\r\n\tBTanalytics.ATB.addedCollectionId \x3d $(\x27.button.script[href*\x3d\x22\x27 + bt_data(\x27add to bag part number\x27) + \x27\x22]\x27).parent().parent().find(\x27input[name\x3d\x22collection\x22]\x27).attr(\x27value\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId] \x3d {}\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].partNumber \x3d BTanalytics.ATB.loadedPartNumber;\r\n\r\n\t/* New v18 format: Page Finding Method:Product Finding Method:Page Type */\r\n\tBTanalytics.ATB.PageFindingMethod \x3d s.prop51;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d bt_data(\x27user generated content location\x27) || bt_data(\x27experience page name\x27) || \x22no product finding method\x22;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d BTanalytics.ATB.ProductFindingMethod.replace(\x27:\x27,\x27-\x27);\r\n\tBTanalytics.ATB.PageType \x3d bt_data(\x27page type\x27);\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].ProdViewType \x3d BTanalytics.ATB.PageFindingMethod + \x22:\x22 + BTanalytics.ATB.ProductFindingMethod + \x22:\x22 + BTanalytics.ATB.PageType;;\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].colorSeq \x3d $(\x27.button.script[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]\x27).parent().parent().attr(\x27data-cseq\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].priceFlag \x3d $(\x27.button.script[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]\x27).parent().parent().find(\x27input[name\x3d\x22priceFlag\x22]\x27).attr(\x27value\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].listPrice \x3d (function () {\r\n\t\tvar listPrice \x3d $(\x27.button.script[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]\x27).parent().parent().find(\x27.list-price\x27).text().trim();\r\n\t\tvar addToBagPrice \x3d $(\x27.button.script[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]\x27).parent().parent().find(\x27.offer-price\x27).text().trim();\r\n\t\treturn BTgetPrice(listPrice) || BTgetPrice(addToBagPrice);\r\n\t})();\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].offerPrice \x3d BTgetPrice($(\x27.button.script[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]\x27).parent().parent().find(\x27.offer-price\x27).text().trim());\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].productId \x3d $(\x27.button.script[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]\x27).parent().parent().find(\x27li.img a\x27).attr(\x27data-productid\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].collectionId \x3d BTanalytics.ATB.addedCollectionId;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku \x3d $(\x27.button.script[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]\x27).parent().parent().find(\x27input[name\x3d\x22longSku\x22]\x27).attr(\x27value\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].brandDept \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku.split(\x27-\x27)[0];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].classNumber \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku.split(\x27-\x27)[1];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].styleNumber \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku.split(\x27-\x27)[2];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].webProductId \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].collectionId + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].brandDept + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].classNumber + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].styleNumber;\r\n\r\n\t/* Key Item Number */\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].shortSku \x3d $(\x27.button.script[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]\x27).parent().parent().find(\x27.sku\x27).text();\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].selectedSize \x3d $(\x27.button.script[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]\x27).parent().parent().find(\x27.size\x27).text().replace(\x27Size: \x27,\x27\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity \x3d 1;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].subtotal \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].offerPrice * BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity;\r\n        $(window).trigger(\x27analytics.addToBagStandard\x27);\r\n} catch (e) {\r\n\t//bt_log(\x27ATB Wishlist click says: unknown error\x27);\r\n}',{tagId:14404});
BrightTag.EventBinding.when('edit checkout cart').execute('s.linkTrackVars \x3d \x22events,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22event29\x22;\r\ns.events \x3d \x22event29\x22;\r\ns.eVar57 \x3d \x22edit\x22;\r\ns.prop15 \x3d \x22edit cart\x22;\r\ns.tl(true, \x22o\x22, \x22Page Feature\x22)',{tagId:14404});
BrightTag.EventBinding.when('edit mini wish list').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46,\x22;\r\ns.prop15 \x3d \x22edit wishlist\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('color swatch click').execute('BTanalytics.swatch \x3d bt_data(\x27collection id\x27);',{tagId:14404});
BrightTag.EventBinding.when('share via weibo').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\ns.linkTrackVars \x3d \x22products,prop15,prop23,prop49,eVar46\x22;\r\nif (trackProductId !\x3d \x27\x27){\r\n\ts.prop15 \x3d \x22share weibo\x22;\r\n\ts.products \x3d \x22;\x22 + trackProductId;\r\n}\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('avs triggered').execute('s.linkTrackVars \x3d \x22events,prop23,eVar40,eVar45,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event26\x22;\r\ns.events \x3d \x22event26\x22;\r\ns.eVar40 \x3d bt_data(\x27avs trillium code\x27);\r\ns.eVar45 \x3d \x22Y\x22;\r\ns.tl(true,\x22o\x22,\x22AVS\x22);',{tagId:14404});
BrightTag.EventBinding.when('remove from cart').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\nvar builtlist \x3d \x27;\x27 + trackProductId+ \x27;;;\x27;\r\nbuiltlist +\x3d  \x27event72\x3d\x27 + bt_data(\x27product subtotal\x27) + \x27|event39\x3d\x27 + bt_data(\x27product quantity\x27) + \x27;\x27;\r\nbuiltlist +\x3d  \x27eVar23\x3d\x27 + bt_data(\x27product price flag\x27) + \x27|eVar24\x3d\x27 + bt_data(\x27product color code\x27) + \x27|eVar25\x3d\x27 + bt_data(\x27product list price\x27) + \x27|eVar37\x3d\x27 + bt_data(\x27product long sku\x27);\r\ns.products \x3d builtlist;\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22scRemove,event29,event39,event72\x22;\r\ns.events \x3d \x22scRemove,event29,event39,event72\x22;\r\ns.eVar57 \x3d \x22remove\x22;\r\ns.prop15 \x3d \x22remove\x22;\r\ns.tl(true,\x22o\x22,\x22Cart Removal\x22);',{tagId:14404});
BrightTag.EventBinding.when('share via facebook').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,prop49,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event49\x22;\r\ns.events \x3d \x22event49\x22;\r\nif (trackProductId  !\x3d \x27\x27){\r\n\ts.prop15 \x3d \x22share facebook\x22;\r\n\ts.products \x3d \x22;\x22 + trackProductId ;\r\n}\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('pdp \x22shipping \x26 handling\x22 tab').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d \x22shipping \x26 handling\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('share via wanelo').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\ns.linkTrackVars \x3d \x22products,prop15,prop23,prop49,eVar46\x22;\r\nif (trackProductId !\x3d \x27\x27){\r\n\ts.prop15 \x3d \x22share wanelo\x22;\r\n\ts.products \x3d \x22;\x22 + trackProductId ;\r\n}\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);  \r\n',{tagId:14404});
BrightTag.EventBinding.when('open left navigation').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d \x22open left nav\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('jeans guide interaction').execute('s.linkTrackVars \x3d \x22prop23,prop49,eVar46\x22;\r\ns.prop49 \x3d bt_data(\x27jeans guide interaction value\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Denim Guide Interaction\x22); ',{tagId:14404});
BrightTag.EventBinding.when('add to cart').execute('//bt_log(\x27Add To Cart says: starting\x27);\r\ntry {\r\n        if (typeof s.eVar6 \x3d\x3d \x27undefined\x27) { s.eVar6 \x3d \x22\x22; }\r\n\ts.linkTrackVars \x3d \x22events,products,prop23,eVar22,eVar24,eVar25,eVar37,eVar46\x22;\r\n\ts.linkTrackEvents \x3d \x22scAdd,scOpen,event35,event38\x22;\r\n\r\n\tif (typeof BTanalytics.ATB.addedCollectionId \x3d\x3d \x27undefined\x27) { BTanalytics.ATB.addedCollectionId \x3d BTanalytics.ATB.loadedCollectionId; }\r\n\ts.eVar22 \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].ProductFindingMethod;\r\n\tvar trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].webProductId : BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].collectionId;\r\n\ts.products\x3d\x22;\x22 + trackProductId  + \x22;;;event35\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].subtotal + \x22|event38\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity + \x22;eVar5\x3d\x22 + bt_data(\x27category id\x27) + \x22|eVar6\x3d\x22 + s.eVar6 + \x22|eVar23\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].priceFlag + \x22|eVar24\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].colorSeq + \x22|eVar25\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].listPrice + \x22|eVar37\x3d\x22 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku;\r\n\r\n\ts.events\x3d\x22scAdd,scOpen,event35,event38\x22;\r\n\r\n\ts.tl(this,\x22o\x22,\x22Cart Addition \x22 + BTanalytics.ATB.PageType);\r\n\t/* delete BTanalytics.ATB[BTanalytics.ATB.addedCollectionId]; */\r\n\r\n\tvar now \x3d new Date(); \r\n\tvar keepUntil \x3d new Date(); \r\n\tkeepUntil.setDate(now.getDate() + 365) \r\n\tif (bt_cookie(\x27scOpen\x27) \x3d\x3d \x27\x27 || isNaN(Date.parse(new Date(bt_cookie(\x27scOpen\x27))))) { \r\n\t        //scOpen is either empty or contains something that is not a date... let\x27s set it \r\n\t        document.cookie \x3d \x22scOpen\x3d\x22+ now.toUTCString()+ \x22; expires\x3d\x22+keepUntil.toUTCString()+ \x27; path\x3d/\x27; \r\n\t} else { \r\n\t        //scOpen has a valid value... let\x27s extend the expiration date \r\n\t        document.cookie \x3d \x22scOpen\x3d\x22+ bt_cookie(\x27scOpen\x27)+ \x22; expires\x3d\x22+ keepUntil.toUTCString()+ \x27; path\x3d/\x27;         \r\n\t} \r\n} catch(e) {\r\n//\tbt_log(\x27Add To Cart says: error\x27);\r\n}\r\n//bt_log(\x27Add To Cart says: complete\x27);',{tagId:14404});
BrightTag.EventBinding.when('quick view initiate').execute('/* Quick View Initiate - runs when user clicks a quick view link */\r\n//bt_log(\x27QuickView Inititiate\x27);\r\ndelete BTanalytics.QV;\r\ndelete BTanalytics.ATB;\r\nBTanalytics.QV \x3d {};\r\n\r\n/* New v18 format: Page Finding Method:Product Finding Method:Page Type */\r\nBTanalytics.QV.PageFindingMethod \x3d s.prop51;\r\nBTanalytics.QV.ProductFindingMethod \x3d bt_data(\x27user generated content location\x27) || bt_data(\x27experience page name\x27) || \x22quick view\x22;\r\nBTanalytics.QV.PageType \x3d bt_data(\x27page type\x27);\r\n\r\n/* Recommendations - set Product Finding Method (v18) */\r\nif (bt_data(\x27product finding method for quickview initiate\x27).indexOf(\x27certona\x27) \x3e -1) {\r\n\tBTanalytics.QV.PageFindingMethod \x3d \x27recommendations\x27;\r\n}\r\n if (bt_data(\x27product finding method for quickview initiate\x27) !\x3d \x22\x22) {\r\n\tBTanalytics.QV.ProductFindingMethod \x3d bt_data(\x27product finding method for quickview initiate\x27);\r\n}\r\n\r\nBTanalytics.QV.ProductFindingMethod \x3d BTanalytics.QV.ProductFindingMethod.replace(\x27:\x27,\x27-\x27);\r\n\r\n/* build out complete eVar18 */\r\nBTanalytics.QV.ProdViewType \x3d BTanalytics.QV.PageFindingMethod + \x22:\x22 + BTanalytics.QV.ProductFindingMethod + \x22:\x22 + BTanalytics.QV.PageType;\r\n\r\n/* Approximation of the CollectionID recorded at click time in case the item is sold out */\r\nBTanalytics.QV.clickCollectionID \x3d (bt_data(\x27collection id\x27) \x3d\x3d \x22\x22) ? \x27unknown-\x27+BTanalytics.QV.ProdViewType : bt_data(\x27collection id\x27);\r\n',{tagId:14404});
BrightTag.EventBinding.when('customer profile').execute('bt_log(\x22thumbnail \x22+bt_data(\x27test\x27)+\x22 clicked\x22);',{tagId:14404});
BrightTag.EventBinding.when('legal link - purchase - mkting privacy policy').execute('s.linkTrackVars\x3d\x22prop23,prop43,eVar46\x22;\r\ns.prop43 \x3d \x22chksub:privacy\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('age gate form submit').execute('switch (bt_data(\x27country code\x27).toUpperCase()) {\r\n\tcase \x27GB\x27:\r\n\tcase \x27EU\x27:\r\n\t\t//var sAgeGate \x3d $(\x22input[name\x3dage]:checked\x22).val();\r\n\t\tvar sAgeGate \x3d bt_data(\x27age gate selection\x27);\r\n\t\tif (sAgeGate \x3d\x3d\x27\x27) { sAgeGate \x3d \x27invalid click\x27; }\r\n\t\tvar sLinkName \x3d bt_data(\x27country code\x27) + \x22-age gate-\x22 + sAgeGate ;\r\n\t\ts.linkTrackVars \x3d \x22prop23,eVar46\x22\r\n\t\ts.tl(this,\x22o\x22,sLinkName );\r\n\t\tbreak;\r\n\tdefault: \r\n\t\tbreak;\r\n}',{tagId:14404});
BrightTag.EventBinding.when('legal link - purchase - order contract details').execute('s.linkTrackVars\x3d\x22prop23,prop42,eVar46\x22;\r\ns.prop42 \x3d \x22purchsect:contract details\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('paypal ').execute('s.linkTrackVars \x3d \x22events,prop23,eVar21,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22; \r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);\r\n\r\nif (typeof BTanalytics !\x3d \x27undefined\x27) {\r\n\tBTanalytics.paypal_express \x3d \x27N\x27;\r\n\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n}',{tagId:14404});
BrightTag.EventBinding.when('hero interaction').execute('s.linkTrackVars \x3d \x22prop23,prop49,eVar46\x22;\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('gilly hicks sport interaction').execute('s.linkTrackVars \x3d \x22prop15,prop23,prop49,eVar46\x22;\r\ns.prop15 \x3d bt_data(\x27gilly hicks sport click value\x27);\r\ns.prop15\x3ds.prop15.toLowerCase();\r\ns.prop49 \x3d \x22GH Sport:\x22 + bt_data(\x27gilly hicks sport click value\x27);\r\ns.prop49\x3ds.prop49.toLowerCase();\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);  \r\n',{tagId:14404});
BrightTag.EventBinding.when('product slider').execute('s.linkTrackVars \x3d \x22prop23,prop36,eVar46\x22;\r\ns.prop36 \x3d \x22slider\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('weather warrior click').execute('var clickVal \x3d bt_data(\x27weather warrior click value\x27);\r\ns.products \x3d s.events \x3d s.prop15 \x3d s.prop49 \x3d \x27\x27;\r\n\r\nvar arrPage \x3d s.pageName.split(\x22:\x22);\r\nvar newPage \x3d arrPage[0] + \x22:\x22 + arrPage[1] + \x22:\x22 + arrPage[2] + \x22:\x22 + arrPage[3] + \x22:\x22 + arrPage[4] + \x22:\x22 +  clickVal;\r\ns.pageName\x3ds.eVar46\x3dnewPage.toLowerCase();\r\n\r\ns.prop23\x3darrPage[0] + \x22:\x22 + arrPage[2] + \x22:\x22 + arrPage[3] + \x22:\x22 + arrPage[4] + \x22:\x22 +  clickVal;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('pdp \x22find in store\x22 ').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\nvar c_v22 \x3d s.eVar22;\r\n\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop21,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22prodView,event61,event62\x22;\r\ns.events\x3d\x22event61,event62\x22;\r\ns.eVar5 \x3d bt_data(\x27category id\x27);\r\ns.eVar18 \x3ds.prop51 + \x22:find in store:\x22 + bt_data(\x27page type\x27);\r\ns.eVar22\x3d\x22find in store\x22;\r\ns.prop15 \x3d \x22Find In Store\x22;\r\ns.prop21 \x3d bt_data(\x27collection id\x27);\r\nvar priceFlag \x3d bt_data(\x27price flag for quickview\x27) || $(\x27div.price\x27).attr(\x27data-priceflag\x27);\r\n\r\nif (typeof priceFlag \x3d\x3d \x27undefined\x27) { priceFlag \x3d \x27\x27; }\r\ns.products \x3d \x22;\x22 + trackProductId + \x27;;;;eVar23\x3d\x27 + priceFlag + \x27|eVar18\x3d\x27 + s.eVar18;\r\n\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);\r\n\r\ns.eVar22 \x3d c_v22;',{tagId:14404});
BrightTag.EventBinding.when('promo code attempt').execute('if (bt_data(\x27promo code\x27) !\x3d \x22\x22) {\r\n\tvar foundIt \x3d false;\r\n\r\n\ttry {\r\n\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) {\r\n\t\t\tif ( typeof BTanalytics.promoAttempts \x3d\x3d \x27undefined\x27) {\r\n\t\t\t\tBTanalytics.promoAttempts \x3d \x27\x27;\r\n\t\t\t}\r\n\t\t\tvar arrPromoCodes \x3d BTanalytics.promoAttempts.toLowerCase().split(\x27;\x27);\r\n\t\t\tfor (var i\x3d0; i \x3c arrPromoCodes.length; i++){\r\n\t\t\t\tif (arrPromoCodes[i] \x3d\x3d bt_data(\x27promo code\x27)) {\r\n\t\t           \t\tfoundIt \x3d true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} catch(e) { //Do Nothing\r\n\t}\r\n\r\n\tif (foundIt \x3d\x3d false) {\r\n\t\ts.linkTrackVars \x3d \x22events,prop15,prop23,eVar46\x22;\r\n\t\ts.linkTrackEvents \x3d \x22event60\x22;\r\n\t\ts.events \x3d \x22event60\x22;\r\n\t\ts.prop15 \x3d \x22promo attempt\x22;\r\n\t\ts.tl(true,\x22o\x22,\x22Page Feature\x22);\r\n\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) {\r\n\t\t\ttry {\r\n\t\t\t\tBTanalytics.promoAttempts +\x3d bt_data(\x27promo code\x27) + \x22;\x22;\r\n\t\t\t\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n\t\t\t} catch(e) { //Do Nothing\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}',{tagId:14404});
BrightTag.EventBinding.when('bras-and-undies lp').execute('s.linkTrackVars \x3d \x22prop23,prop49,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('email subscription update').execute('document.cookie\x3d\x22BTsc\x3d\x22 + bt_data(\x27sitecatalyst page event\x27) + \x22;path\x3d/\x22;',{tagId:14404});
BrightTag.EventBinding.when('account create (2)').execute('s.linkTrackVars \x3d \x22events,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d bt_data(\x27sitecatalyst page event\x27);\r\ns.events \x3d bt_data(\x27sitecatalyst page event\x27);\r\ns.tl(this,\x22o\x22,\x22Account Registration\x22);',{tagId:14404});
BrightTag.EventBinding.when('product view 360').execute('s.linkTrackVars \x3d \x22prop23,prop36,eVar46\x22;\r\ns.prop36 \x3d \x22360\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('pick-a-polo: checkout').execute('s.products \x3d s.events \x3d \x27\x27;\r\ns.pageName\x3ds.eVar46\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:Mens:Polos:Custom Polo:Completed\x22;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:Mens:Polos:Custom Polo:Completed\x22;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('email subscribe from footer').execute('s.linkTrackVars \x3d \x22events,prop23,eVar46,eVar69\x22;\r\ns.linkTrackEvents \x3d bt_data(\x27sitecatalyst page event\x27);\r\ns.events \x3d bt_data(\x27sitecatalyst page event\x27);\r\ns.eVar69 \x3d bt_data(\x27customer gender\x27);\r\ns.tl(true,\x22o\x22,\x22Email Subscribe\x22);',{tagId:14404});
BrightTag.EventBinding.when('sms subscription update').execute('document.cookie\x3d\x22BTsc\x3d\x22 + bt_data(\x27sitecatalyst page event\x27) + \x22;path\x3d/\x22;',{tagId:14404});
BrightTag.EventBinding.when('pick-a-polo: logo').execute('s.products \x3d s.events \x3d \x27\x27;\r\ns.pageName\x3ds.eVar46\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:Mens:Polos:Custom Polo:Logo\x22;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:Mens:Polos:Custom Polo:Logo\x22;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('add to bag button - mini wishlist').execute('//bt_log(\x27ATB Mini Wishlist click part number (short sku):\x27 + bt_data(\x27add to bag part number\x27));\r\nfunction BTgetPrice(BTprice) {\r\n    if (BTprice !\x3d \x27\x27 \x26\x26 typeof BTprice !\x3d \x27undefined\x27) {\r\n\t\tBTprice \x3d BTprice.replace(/[^\\.\\,0-9]/g,\x27\x27)\r\n\t\tif (BTprice.length\x3e2){\r\n\t\t\tif (BTprice.substring(BTprice.length-3,BTprice.length-2) \x3d\x3d \x27,\x27 || BTprice.substring(BTprice.length-3,BTprice.length-2) \x3d\x3d \x27.\x27) {\r\n\t\t\t\tBTprice \x3d BTprice.substring(0,BTprice.length-3) + \x27.\x27 + BTprice.substring(BTprice.length-2,BTprice.length);\r\n\t\t\t} else if (BTprice.substring(BTprice.length-2,BTprice.length-1) \x3d\x3d \x27,\x27 || BTprice.substring(BTprice.length-2,BTprice.length-1) \x3d\x3d \x27.\x27) {\r\n\t\t\t\tBTprice \x3d BTprice.substring(0,BTprice.length-2) + \x27.\x27 + BTprice.substring(BTprice.length-1,BTprice.length);\r\n\t\t\t} else { \r\n\t\t\t\tBTprice \x3d BTprice.replace(/[^\\d]/g,\x27\x27);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tBTprice \x3d parseFloat(BTprice).toFixed(2);\r\n\tif (!isNaN(BTprice)) {\r\n\t\treturn BTprice;\r\n\t} else {\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\ntry {\r\n    /* Set up the object for this item\x27s Add To Bag */\r\n\tdelete BTanalytics.ATB;\r\n\tBTanalytics.ATB \x3d {};\r\n\t/* due to duplicate collection IDs on this page, we need to use the part number (short sku) to identify which row contains the item being added */\r\n\tBTanalytics.ATB.loadedPartNumber \x3d bt_data(\x27add to bag part number\x27);\r\n\tBTanalytics.ATB.addedCollectionId \x3d $(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27div.item-desc li.img a\x27).attr(\x27data-producturl\x27).split(\x27productId\x3d\x27)[1].split(\x27\x26\x27)[0];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId] \x3d {}\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].partNumber \x3d BTanalytics.ATB.loadedPartNumber;\r\n\t/* New v18 format: Page Finding Method:Product Finding Method:Page Type */\r\n\tBTanalytics.ATB.PageFindingMethod \x3d s.prop51;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d bt_data(\x27user generated content location\x27) || bt_data(\x27experience page name\x27) || \x22no product finding method\x22;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d BTanalytics.ATB.ProductFindingMethod.replace(\x27:\x27,\x27-\x27);\r\n\tBTanalytics.ATB.PageType \x3d \x22mini wishlist\x22;\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].ProdViewType \x3d BTanalytics.ATB.PageFindingMethod + \x22:\x22 + BTanalytics.ATB.ProductFindingMethod + \x22:\x22 + BTanalytics.ATB.PageType;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].colorSeq \x3d $(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27img.prod-img\x27).attr(\x27src\x27).split(\x27_\x27)[2];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].priceFlag \x3d $(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27input[name\x3d\x22SiteCatpriceFlag\x22]\x27).attr(\x27value\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].listPrice \x3d (function () {\r\n\t\tvar listPrice \x3d $(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27.list-price\x27).text().trim();\r\n\t\tvar addToBagPrice \x3d $(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27.offer-price\x27).text().trim();\r\n\t\treturn BTgetPrice(listPrice) || BTgetPrice(addToBagPrice);\r\n\t})();\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].offerPrice \x3d BTgetPrice($(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27.offer-price\x27).text().trim());\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].productId \x3d $(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27li.img a\x27).attr(\x27data-producturl\x27).split(\x27productId\x3d\x27)[1].split(\x27\x26\x27)[0];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].collectionId \x3d BTanalytics.ATB.addedCollectionId;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku \x3d $(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27input[name\x3d\x22SiteCatsku\x22]\x27).attr(\x27value\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].brandDept \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku.split(\x27-\x27)[0];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].classNumber \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku.split(\x27-\x27)[1];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].styleNumber \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku.split(\x27-\x27)[2];\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].webProductId \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].collectionId + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].brandDept + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].classNumber + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].styleNumber;\r\n\t/* Key Item Number */\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].shortSku \x3d $(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27.sku\x27).text();\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].selectedSize \x3d $(\x27a[href*\x3d\x22\x27 + BTanalytics.ATB.loadedPartNumber + \x27\x22]:not(.button)\x27).parent().parent().parent().parent().find(\x27.size\x27).text().replace(\x27Size: \x27,\x27\x27);\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity \x3d 1;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].subtotal \x3d BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].offerPrice * BTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity;\r\n\r\n\t//bt_log(\x27ATB Mini Wishlist complete - calling Add To Cart\x27);\r\n        $(window).trigger(\x27analytics.addToBagStandard\x27);\r\n} catch (e) {\r\n\t//bt_log(\x27ATB Mini Wishlist click says: unknown error\x27);\r\n}',{tagId:14404});
BrightTag.EventBinding.when('alipay').execute('s.linkTrackVars \x3d \x22events,prop23,eVar21,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22; \r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);',{tagId:14404});
BrightTag.EventBinding.when('ideal').execute('s.linkTrackVars \x3d \x22events,prop23,eVar21,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22; \r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);',{tagId:14404});
BrightTag.EventBinding.when('product carousel').execute('s.linkTrackVars \x3d \x22prop23,prop36,eVar46\x22;\r\ns.prop36 \x3d \x22fit carousel\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('pick-a-polo: get started').execute('s.products \x3d s.events \x3d \x27\x27;\r\ns.pageName\x3ds.eVar46\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:Mens:Polos:Custom Polo:Size\x22;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:Mens:Polos:Custom Polo:Size\x22;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('sort used').execute('s.linkTrackVars \x3d \x22events,prop23,prop49,prop56,prop57,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event75\x22;\r\ns.events \x3d \x22event75\x22; \r\ns.eVar6 \x3d \x22Sort Used\x22;\r\ns.prop49 \x3d s.pageName.split(\x27:\x27).slice(-1) + \x27:sort:sort:\x27 + bt_data(\x27sort name\x27);\r\ns.prop49 \x3d s.prop49.toLowerCase();\r\ns.prop56 \x3d \x22sort\x22;\r\ns.prop57 \x3d bt_data(\x27sort name\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Facet Used\x22);',{tagId:14404});
BrightTag.EventBinding.when('thumbnail click').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,prop33,eVar46\x22;\r\n\r\nvar arrThumbnail \x3d bt_data(\x27thumbnail image\x27).split(\x27_\x27);\r\n\r\nif (bt_data(\x27thumbnail image\x27).indexOf(\x27prod\x27) \x3e -1) {\r\n\ts.linkTrackEvents \x3d \x22event70,event73\x22;\r\n\ts.events \x3d \x22event70,event73\x22;\r\n\ts.prop15 \x3d \x22flat view\x22;\r\n}\r\n\r\nif (bt_data(\x27thumbnail image\x27).indexOf(\x27model\x27) \x3e -1) {\r\n\ts.linkTrackEvents \x3d \x22event36,event73\x22;\r\n\ts.events \x3d \x22event36,event73\x22;\r\n\ts.prop15 \x3d \x22model view\x22;\r\n}\r\n\r\nif (bt_data(\x27thumbnail image\x27).indexOf(\x27video\x27) \x3e -1) {\r\n\ts.linkTrackEvents \x3d \x22event67,event73\x22;\r\n\ts.events \x3d \x22event67,event73\x22;\r\n\ts.prop15 \x3d \x22video view\x22;\r\n}\r\n\r\ns.prop33 \x3d arrThumbnail[1] + \x27:\x27 + arrThumbnail[0] + \x27:\x27 + trackProductId  ;\r\ns.products \x3d \x22;\x22 + trackProductId  + \x22;;;;eVar73\x3d\x22+bt_data(\x27thumbnail image\x27);\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('legal link - checkout footer - ca privacy rights').execute('s.linkTrackVars\x3d\x22prop23,prop43,eVar46\x22;\r\ns.prop43 \x3d \x22footer:ca privacy\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('legal link - checkout footer - privacy').execute('s.linkTrackVars\x3d\x22prop23,prop43,eVar46\x22;\r\ns.prop43 \x3d \x22footer:privacy\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('remove giftbox').execute('var trackProductId \x3d \x22GIFTBOX\x22;\r\n\r\nvar builtlist \x3d \x27;\x27 + trackProductId + \x27;;;\x27;\r\nbuiltlist +\x3d  \x27|event39\x3d1;\x27;\r\ns.products \x3d builtlist;\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22scRemove,event29,event39\x22;\r\ns.events \x3d \x22scRemove,event29,event39\x22;\r\ns.eVar57 \x3d \x22remove\x22;\r\ns.prop15 \x3d \x22remove\x22;\r\ns.tl(true,\x22o\x22,\x22Cart Removal\x22);\r\n',{tagId:14404});
BrightTag.EventBinding.when('form field mismatch').execute('s.linkTrackVars \x3d \x22events,prop13,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event33\x22;\r\ns.events \x3d \x22event33\x22;\r\ns.prop13 \x3d bt_data(\x27error message detail\x27);\r\ns.tl(this,\x22o\x22,\x22Form Errors\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('jeans guide click').execute('var clickVal \x3d bt_data(\x27jeans guide click value\x27).split(\x27:\x27);\r\nvar content \x3d category \x3d subcategory \x3d \x22\x22;\r\nif (clickVal[0].length \x3e 0 ) { \r\n\tcontent \x3d \x22:\x22 + bt_data(\x27jeans guide click value\x27).replace(\x27entrance\x27,\x27\x27);\r\n\tif (content.length \x3d\x3d 1) {content\x3d\x22\x22;}\r\n\tcategory \x3d \x22:\x22 + clickVal[0] ;\r\n}\r\ntry {\r\n\tif (clickVal[1].length \x3e 0 ) { \r\n\t\tsubcategory \x3d \x22:\x22 + clickVal[1] ;\r\n\t}\r\n} catch(e) {\r\n\tsubcategory \x3d \x22\x22;\r\n}\r\n\r\n/* Clear out some s.variables that may have been set in the product view (Quick View) that we do not want to send along in a \x22page load\x22 type request */ \r\ns.products \x3d s.events \x3d s.prop15 \x3d s.prop49 \x3d s.eVar5 \x3d s.eVar18 \x3d s.eVar23 \x3d s.eVar28 \x3d s.eVar61 \x3d s.eVar62 \x3d \x27\x27;\r\n\r\ns.pageName\x3ds.eVar46\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:Denim Guide\x22 + content ;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\t\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:Denim Guide\x22 + content ;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\t\r\ns.prop49\x3dbt_data(\x27jeans guide interaction value\x27);\r\ns.prop49\x3ds.prop49.toLowerCase();\r\n\t\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('legal link - duties for shipments will be covered by \x3cbrand\x3e').execute('s.linkTrackVars\x3d\x22prop23,prop42,eVar46\x22;\r\ns.prop42 \x3d \x22sumsect:duties for shipments\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('slider next button').execute('s.linkTrackVars \x3d \x22prop23,eVar46,prop49\x22;\r\ns.prop49 \x3d bt_data(\x27page type\x27) + \x22:slider-next:\x22 + bt_data(\x27slider next-prev image\x27);\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('certona click-to-pdp').execute('try{\r\n  BTanalytics.certona \x3d bt_data(\x27prodview type\x27);\r\n  $.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n} catch(e) {   //Do Nothing\r\n}',{tagId:14404});
BrightTag.EventBinding.when('print').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d \x22print\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('account personalize').execute('document.cookie\x3d\x22BTsc\x3d\x22 + bt_data(\x27sitecatalyst page event\x27) + \x22;path\x3d/\x22;\r\ns.linkTrackVars \x3d \x22eVar69,prop9,prop28\x22;\r\ns.eVar69 \x3d bt_data(\x27customer gender\x27);\r\ns.prop9 \x3d bt_data(\x27favorite categories\x27);\r\ns.tl(this,\x22o\x22,\x22My Account\x22);\r\n\r\n',{tagId:14404});
BrightTag.EventBinding.when('add to bag button - pdp and quickview').execute('function BTgetPrice(BTprice) {\r\n    if (BTprice !\x3d \x27\x27 \x26\x26 typeof BTprice !\x3d \x27undefined\x27) {\r\n\t\tBTprice \x3d BTprice.replace(/[^\\.\\,0-9]/g,\x27\x27)\r\n\t\tif (BTprice.length\x3e2){\r\n\t\t\tif (BTprice.substring(BTprice.length-3,BTprice.length-2) \x3d\x3d \x27,\x27 || BTprice.substring(BTprice.length-3,BTprice.length-2) \x3d\x3d \x27.\x27) {\r\n\t\t\t\tBTprice \x3d BTprice.substring(0,BTprice.length-3) + \x27.\x27 + BTprice.substring(BTprice.length-2,BTprice.length);\r\n\t\t\t} else if (BTprice.substring(BTprice.length-2,BTprice.length-1) \x3d\x3d \x27,\x27 || BTprice.substring(BTprice.length-2,BTprice.length-1) \x3d\x3d \x27.\x27) {\r\n\t\t\t\tBTprice \x3d BTprice.substring(0,BTprice.length-2) + \x27.\x27 + BTprice.substring(BTprice.length-1,BTprice.length);\r\n\t\t\t} else { \r\n\t\t\t\tBTprice \x3d BTprice.replace(/[^\\d]/g,\x27\x27);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tBTprice \x3d parseFloat(BTprice).toFixed(2);\r\n\tif (!isNaN(BTprice)) {\r\n\t\treturn BTprice;\r\n\t} else {\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\n\r\n\r\n    try {\r\n        /* Set up the object for this item\x27s Add To Bag */\r\n\tdelete BTanalytics.ATB;\r\n\tBTanalytics.ATB \x3d {};\r\n        BTanalytics.ATB.loadedCollectionId \x3d bt_data(\x27add to bag collection id\x27);\r\n\r\n\t/* New v18 format: Page Finding Method:Product Finding Method:Page Type */\r\n\tBTanalytics.ATB.PageFindingMethod \x3d s.prop51;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d bt_data(\x27user generated content location\x27) || bt_data(\x27experience page name\x27) || \x22add to bag\x22;\r\n\tBTanalytics.ATB.ProductFindingMethod \x3d BTanalytics.ATB.ProductFindingMethod.replace(\x27:\x27,\x27-\x27);\r\n\tBTanalytics.ATB.PageType \x3d bt_data(\x27page type\x27);\r\n\r\n\r\n        BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId] \x3d {};\r\n        BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId \x3d BTanalytics.ATB.loadedCollectionId;\r\n\ttry {\r\n            try { \r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProdViewType \x3d BTanalytics.QV[BTanalytics.ATB.loadedCollectionId].ProdViewType; \r\n            } catch (e) {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProdViewType \x3d BTanalytics.ATB.PageFindingMethod + \x22:\x22 + BTanalytics.ATB.ProductFindingMethod + \x22:\x22 + BTanalytics.ATB.PageType;\r\n            }\r\n\t} catch(e) {\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProdViewType \x3d \x22unknown atb error\x22;\r\n\t}\r\n\r\n\ttry {\r\n            try { \r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod \x3d BTanalytics.QV[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod; \r\n            } catch (e) {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod \x3d bt_data(\x27product finding method\x27);\r\n            }\r\n\r\n\t\t/* override product finding method if Find In Store was used */\r\n\t\tif (BTanalytics.fis_atb !\x3d \x22undefined\x22) {\r\n\t\t\tif (BTanalytics.fis_atb \x3d\x3d \x22Y\x22) {\r\n\t\t\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProdViewType \x3d \x22find in store\x22;\r\n\t\t\t\tdelete BTanalytics[\x27fis_atb\x27];\r\n\t\t\t}\r\n\t\t}\r\n\t} catch(e) {\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod \x3d \x22unknown atb error\x22;\r\n\t}\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].colorSeq \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27\x27).parent().find(\x27.swatch.selected a\x27).attr(\x27data-seq\x27) || $(\x27#product-add-to-bag-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27\x27).find(\x27input[name\x3dcseq]\x27).val() || \x22\x22;\r\n        } catch (e) {\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].priceFlag \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27 input[name\x3d\x22priceFlag\x22]\x27).val() || \x22\x22;\r\n        } catch (e) {\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].productId \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27 input[name\x3d\x22productId\x22]\x27).val() || \x22\x22;\r\n        } catch (e) {\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].listPrice \x3d (function () {\r\n                var listPrice \x3d $(\x27[data-collection\x3d\x22\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27\x22] .price .list-price:first\x27).text();\r\n                var addToBagPrice \x3d \x22\x22;\r\n                if (typeof $(\x27#product-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27 .product-add-to-bag input[name\x3d\x22price\x22]\x27).val() !\x3d \x27undefined\x27) {\r\n                    addToBagPrice \x3d $(\x27#product-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27 .product-add-to-bag input[name\x3d\x22price\x22]\x27).val().toString();\r\n                }\r\n                return BTgetPrice(listPrice) || BTgetPrice(addToBagPrice) || bt_data(\x27gift card value\x27);\r\n            })();\r\n        } catch (e) {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].listPrice \x3d \x22\x22;\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice \x3d (function () {\r\n                var addToBagPrice \x3d \x22\x22;\r\n                if (typeof $(\x27#product-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27 .product-add-to-bag input[name\x3d\x22promoPrice\x22]\x27).val() !\x3d \x27undefined\x27) {\r\n                    addToBagPrice \x3d $(\x27#product-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27 .product-add-to-bag input[name\x3d\x22promoPrice\x22]\x27).val().toString();\r\n                }\r\n                return BTgetPrice(addToBagPrice) || BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].listPrice || bt_data(\x27gift card value\x27);\r\n            })();\r\n        } catch (e) {\r\n        }\r\n\r\n\tvar arrCollectionPrices \x3d bt_data(\x27collection id, price delimited (;)\x27).split(\x27;\x27);\r\n\tvar priceOverride \x3d false;\r\n\tif (BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId.indexOf(\x27GIFTCARD\x27) \x3c 0) {\r\n\t\t//bt_log(\x27find original price of the item being added - do not trust the input field!\x27);\r\n\t\tfor (i\x3d0;i\x3carrCollectionPrices.length;i++){\r\n\t    \t\tarrThisCollection \x3d arrCollectionPrices[i].split(\x27:\x27);\r\n\t\t\t//bt_log(\x27checking to see if \x27 + arrThisCollection[0] + \x27 contains \x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId);\r\n\t\t\tif (arrThisCollection[0].indexOf(BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId) \x3e -1) {\r\n\t\t\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].listPrice \x3d BTgetPrice(arrThisCollection[1]);\r\n\t\t\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice \x3d BTgetPrice(arrThisCollection[1]);\r\n\t\t\t\t//bt_log(\x27override price to \x27+BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice);\r\n\t\t\t\tpriceOverride \x3d true;\r\n\t\t\t\ti \x3d arrCollectionPrices.length;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (typeof BTanalytics.QV !\x3d \x27undefined\x27 \x26\x26 priceOverride \x3d\x3d false){\r\n\t\tif (typeof BTanalytics.QV[BTanalytics.ATB.loadedCollectionId] !\x3d \x27undefined\x27) {\r\n\t\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].listPrice \x3d BTgetPrice(BTanalytics.QV[BTanalytics.ATB.loadedCollectionId].listPrice);\r\n\t\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice \x3d BTgetPrice(BTanalytics.QV[BTanalytics.ATB.loadedCollectionId].offerPrice);\r\n\t\t\t//bt_log(\x27override price using QuickView price to \x27+BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice);\r\n\t\t\tpriceOverride \x3d true;\r\n\t\t}\r\n\t}\r\n\r\n        try {\r\n            if (BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod \x3d\x3d \x27find in store\x27) {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku \x3d $(\x27#dk_container_fis-partNumber-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27\x27).parent().parent().parent().find(\x27li.store-item-number .number:first\x27).text() || \x22\x22\r\n            } else {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27\x27).parent().parent().parent().find(\x27li.store-item-number .number:first\x27).text() || \x22\x22;\r\n            }\r\n        } catch (e) {\r\n        }\r\n\r\n        if (BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku !\x3d \x22\x22) {\r\n            try {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].brandDept \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[0];\r\n            } catch (e) {\r\n            }\r\n\r\n            try {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].classNumber \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[1];\r\n            } catch (e) {\r\n            }\r\n\r\n            try {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].styleNumber \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].modifiedLongSku.split(\x27-\x27)[2];\r\n            } catch (e) {\r\n            }\r\n        } else {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].brandDept \x3d \x22\x22;\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].classNumber \x3d \x22\x22;\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].styleNumber \x3d \x22\x22;\r\n        }\r\n\r\n\tif (BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId.indexOf(\x27GIFTCARD\x27) \x3c 0) {\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].webProductId \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].brandDept + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].classNumber + \x27-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].styleNumber;\r\n\t} else {\r\n\t\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].webProductId \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId;\r\n\t}\r\n        /* Key Item Number */\r\n\r\n        BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].shortSku \x3d \x27\x27;\r\n        BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].selectedSize \x3d \x22\x22;\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].selectedSize \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27 .size li.dk_option_current a\x27).text().trim();\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].shortSku \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27 .size li.dk_option_current a\x27).attr(\x27data-dk-dropdown-value\x27);\r\n        } catch (e) {\r\n        }\r\n\r\n        if (BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].ProductFindingMethod \x3d\x3d \x27find in store\x27) {\r\n            try {\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].selectedSize \x3d $(\x27#dk_container_fis-partNumber-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27.dk_theme_fis_size li.dk_option_current a\x27).text().trim();\r\n                BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].shortSku \x3d $(\x27#dk_container_fis-partNumber-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27.dk_theme_fis_size li.dk_option_current a\x27).attr(\x27data-dk-dropdown-value\x27);\r\n            } catch(e) {\r\n            }\r\n        }\r\n\r\n        try {\r\n            BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].quantity \x3d $(\x27#product-add-to-bag-\x27 + BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].collectionId + \x27 .quantity.select li.dk_option_current a\x27).attr(\x27data-dk-dropdown-value\x27) || bt_data(\x27gift card quantity\x27);\r\n        } catch (e) {\r\n        }\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].subtotal \x3d BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].offerPrice * BTanalytics.ATB[BTanalytics.ATB.loadedCollectionId].quantity;\r\n\r\n    } catch (e) {\r\n        //bt_log(\x27ATB click for PDP and QuickView says: unknown error\x27);\r\n    }',{tagId:14404});
BrightTag.EventBinding.when('search persistence').execute('try{\r\n  BTanalytics.searchTermForPDP \x3d s.eVar14;\r\n  $.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n  //bt_log(\x27setting BTanalytics.searchTermForPDP\x27);\r\n} catch(e) {   //Do Nothing\r\n}',{tagId:14404});
BrightTag.EventBinding.when('share via instagram').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\ns.linkTrackVars \x3d \x22products,prop15,prop23,prop49,eVar46\x22;\r\nif (trackProductId !\x3d \x27\x27){\r\n\ts.prop15 \x3d \x22share instagram\x22;\r\n\ts.products \x3d \x22;\x22 + trackProductId ;\r\n}\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('facebook like').execute('s.linkTrackVars \x3d \x22events,prop15,prop23,eVar46\x22; \r\ns.linkTrackEvents \x3d \x22event59\x22; \r\n s.events \x3d \x22event59\x22; \r\n s.prop15 \x3d \x22Facebook Like\x22; \r\n s.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('pdp \x22there\x27s more to see\x22 tab').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d \x22theres more to see\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('size select').execute('/* do nothing, we recorded the collection id in the DBE */\r\n/* this is so we know which product the user is interacting with when the trigger fires later */\r\n//bt_log(\x27user selected a size for \x27+bt_data(\x27collection id\x27));',{tagId:14404});
BrightTag.EventBinding.when('form missing req\x27d fields').execute('s.linkTrackVars \x3d \x22events,prop13,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event33\x22;\r\ns.events \x3d \x22event33\x22;\r\ns.prop13 \x3d bt_data(\x27error message detail\x27);\r\ns.tl(this,\x22o\x22,\x22Form Errors\x22); ',{tagId:14404});
BrightTag.EventBinding.when('filter used').execute('s.linkTrackVars \x3d \x22events,prop23,prop49,prop56,prop57,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event74\x22;\r\ns.events \x3d \x22event74\x22; \r\ns.eVar6 \x3d \x22Filter Used\x22;\r\ns.prop49 \x3d s.pageName.split(\x27:\x27).slice(-1) + \x27:\x27 + \x27filter:\x27 + bt_data(\x27facet name\x27) + \x27:\x27 + bt_data(\x27facet value\x27);\r\ns.prop49 \x3d s.prop49.toLowerCase();\r\ns.prop56 \x3d bt_data(\x27facet name\x27).toLowerCase();\r\ns.prop57 \x3d bt_data(\x27facet value\x27).toLowerCase();\r\ns.tl(this,\x22o\x22,\x22Facet Used\x22);',{tagId:14404});
BrightTag.EventBinding.when('legal link - checkout footer - about us').execute('s.linkTrackVars\x3d\x22prop23,prop43,eVar46\x22;\r\ns.prop43 \x3d \x22footer:about us\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('foresee invite accept').execute('s.linkTrackVars\x3d\x22pageName,prop16,prop22,prop23,prop30,eVar1,eVar11,eVar16,eVar46\x22;\r\ns.eVar16\x3d\x22foresee invite accept\x22;\r\ns.tl(this,\x27o\x27,\x27ForeSee\x27);',{tagId:14404});
BrightTag.EventBinding.when('edit shopping cart').execute('s.linkTrackVars \x3d \x22events,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22event29\x22;\r\ns.events \x3d \x22event29\x22;\r\ns.eVar57 \x3d \x22edit\x22;\r\ns.prop15 \x3d \x22edit cart\x22;\r\ns.tl(true, \x22o\x22, \x22Page Feature\x22)',{tagId:14404});
BrightTag.EventBinding.when('legal link - checkout footer - sale terms').execute('s.linkTrackVars\x3d\x22prop23,prop43,eVar46\x22;\r\ns.prop43 \x3d \x22footer:sale terms\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('how to size interaction').execute('s.linkTrackVars \x3d \x22prop23,prop49,eVar46\x22;\r\ns.prop49 \x3d bt_data(\x27how to size interaction value\x27);\r\ns.prop49\x3ds.prop49.toLowerCase();\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('share via pinterest').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,prop49,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event58\x22;\r\ns.events \x3d \x22event58\x22;\r\nif (trackProductId !\x3d \x27\x27){\r\n\ts.prop15 \x3d \x22share pinterest\x22;\r\n\ts.products \x3d \x22;\x22 + trackProductId ;\r\n}\r\ns.prop49\x3dbt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('slider previous button').execute('s.linkTrackVars \x3d \x22prop23,eVar46,prop49\x22;\r\ns.prop49 \x3d bt_data(\x27page type\x27) + \x22:slider-prev:\x22 + bt_data(\x27slider next-prev image\x27);\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('eps').execute('s.linkTrackVars \x3d \x22events,prop23,eVar21,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22; \r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);',{tagId:14404});
BrightTag.EventBinding.when('avs use as entered').execute('s.linkTrackVars \x3d \x22events,prop23,eVar44,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event27\x22;\r\ns.events \x3d \x22event27\x22;\r\ns.eVar44 \x3d bt_data(\x27avs action code\x27);\r\ns.tl(this,\x22o\x22,\x22AVS\x22);',{tagId:14404});
BrightTag.EventBinding.when('avs use match').execute('s.linkTrackVars \x3d \x22events,prop23,eVar44,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event27\x22;\r\ns.events \x3d \x22event27\x22;\r\ns.eVar44 \x3d bt_data(\x27avs action code\x27);\r\ns.tl(this,\x22o\x22,\x22AVS\x22);',{tagId:14404});
BrightTag.EventBinding.when('form invalid field').execute('s.linkTrackVars \x3d \x22events,prop13,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event33\x22;\r\ns.events \x3d \x22event33\x22;\r\ns.prop13 \x3d bt_data(\x27error message detail\x27);\r\ns.tl(this,\x22o\x22,\x22Form Errors\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('pdp \x22how to size\x22 ').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d bt_data(\x27how to size interaction value\x27);\r\ns.prop15\x3ds.prop15.toLowerCase();\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22); ',{tagId:14404});
BrightTag.EventBinding.when('moneto').execute('s.linkTrackVars \x3d \x22events,prop23,eVar21,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22scCheckout\x22;\r\ns.events \x3d \x22scCheckout\x22; \r\ns.eVar21 \x3d bt_data(\x27payment type\x27);\r\ns.tl(this,\x22o\x22,\x22Payment Type\x22);',{tagId:14404});
BrightTag.EventBinding.when('pick-a-polo: size').execute('s.products \x3d s.events \x3d \x27\x27;\r\ns.pageName\x3ds.eVar46\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:Mens:Polos:Custom Polo:Size\x22;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:Mens:Polos:Custom Polo:Size\x22;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('pick-a-polo: color').execute('s.products \x3d s.events \x3d \x27\x27;\r\ns.pageName\x3ds.eVar46\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:Mens:Polos:Custom Polo:Color\x22;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:Mens:Polos:Custom Polo:Color\x22;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('zzz - record qv on parallax pages ').execute('s.linkTrackVars \x3d \x22prop23,prop49,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22\x22;\r\ns.events \x3d \x22\x22;\r\ns.prop49\x3dbt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(true,\x22o\x22,\x22Parallax QuickView Initiate\x22); ',{tagId:14404});
BrightTag.EventBinding.when('account create').execute('document.cookie\x3d\x22BTsc\x3d\x22 + bt_data(\x27sitecatalyst page event\x27) + \x22;path\x3d/\x22;',{tagId:14404});
BrightTag.EventBinding.when('legal link - purchase - terms and conditions').execute('s.linkTrackVars\x3d\x22prop23,prop42,eVar46\x22;\r\ns.prop42 \x3d \x22purchsect:terms conditions\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('size selection update complete').execute('var collection \x3d bt_data(\x27collection id\x27);\r\nvar modifiedLongSku \x3d $(\x27#product-add-to-bag-\x27+collection+ \x27 div.data input[name\x3dlongSku]\x27).val();\r\nvar checkThis \x3d collection + \x27-\x27 + modifiedLongSku.split(\x27-\x27).slice(0,1) + \x27-\x27 + modifiedLongSku.split(\x27-\x27).slice(1,2) + \x27-\x27 + modifiedLongSku.split(\x27-\x27).slice(2,3);\r\n\r\nif (s.products.indexOf(checkThis) \x3d\x3d -1 \x26\x26 checkThis.indexOf(\x27--\x27) \x3d\x3d -1) {\r\n\t/* WebProductId is not in s.products, let\x27s record it */\r\n\ts.linkTrackVars \x3d \x22events,products,prop23,eVar46\x22;\r\n\ts.linkTrackEvents \x3d \x22event69\x22;\r\n\ts.events \x3d \x22event69\x22;\r\n\ts.products \x3d \x22;\x22 + checkThis;\r\n\ts.tl(this,\x22o\x22,\x22Page Feature\x22);\r\n} else {\r\n//\tbt_log(\x27do not log: \x27+ checkThis);\r\n}',{tagId:14404});
BrightTag.EventBinding.when('share via twitter').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,prop49,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event50\x22;\r\ns.events \x3d \x22event50\x22;\r\nif (trackProductId !\x3d \x27\x27){\r\n\ts.prop15 \x3d \x22share twitter\x22;\r\n\ts.products \x3d \x22;\x22 + trackProductId ;\r\n}\r\ns.prop49 \x3d bt_data(\x27feature + interaction type\x27).toLowerCase();\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('gilly hicks sport click').execute('var clickVal \x3d bt_data(\x27gilly hicks sport click value\x27);\r\n/* Clear out some s.variables that may have been set in the product view (Quick View) that we do not want to send along in a \x22page load\x22 type request */ \r\ns.products \x3d s.events \x3d s.prop15 \x3d s.prop49 \x3d s.eVar5 \x3d s.eVar18 \x3d s.eVar23 \x3d s.eVar28 \x3d s.eVar61 \x3d s.eVar62 \x3d \x27\x27;\r\n\r\nif (clickVal.indexOf(\x27shop gh sport\x27) \x3e -1) {clickVal \x3d \x22\x22;}\r\n\r\ns.pageName\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:womens:gh sport\x22 + clickVal;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:womens:gh sport\x22 + clickVal;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('remove from checkout cart').execute('var trackProductId \x3d (bt_data(\x27usewebproductid\x27) \x3d\x3d true) ? bt_data(\x27web product id\x27) : bt_data(\x27collection id\x27);\r\n\r\nvar builtlist \x3d \x27;\x27 + trackProductId+ \x27;;;\x27;\r\nbuiltlist +\x3d  \x27event72\x3d\x27 + bt_data(\x27product subtotal\x27) + \x27|event39\x3d\x27 + bt_data(\x27product quantity\x27) + \x27;\x27;\r\nbuiltlist +\x3d  \x27eVar23\x3d\x27 + bt_data(\x27product price flag\x27) + \x27|eVar24\x3d\x27 + bt_data(\x27product color code\x27) + \x27|eVar25\x3d\x27 + bt_data(\x27product list price\x27) + \x27|eVar37\x3d\x27 + bt_data(\x27product long sku\x27);\r\ns.products \x3d builtlist;\r\ns.linkTrackVars \x3d \x22events,products,prop15,prop23,eVar46,eVar57\x22;\r\ns.linkTrackEvents \x3d \x22scRemove,event29,event39,event72\x22;\r\ns.events \x3d \x22scRemove,event29,event39,event72\x22;\r\ns.eVar57 \x3d \x22remove\x22;\r\ns.prop15 \x3d \x22remove\x22;\r\ns.tl(true,\x22o\x22,\x22Cart Removal\x22);',{tagId:14404});
BrightTag.EventBinding.when('homepage modal click').execute('s.tl(this,\x22o\x22,bt_data(\x27homepage modal click value\x27));',{tagId:14404});
BrightTag.EventBinding.when('pdp \x22details\x22 tab').execute('s.linkTrackVars \x3d \x22prop15,prop23,eVar46\x22;\r\ns.prop15 \x3d \x22details\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('legal link - order total includes \x3ctax type\x3e').execute('s.linkTrackVars\x3d\x22prop23,prop42,eVar46\x22;\r\ns.prop42 \x3d \x22sumsect:includes tax\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('account login').execute('if (window.location.pathname.indexOf(\x27LogonForm\x27) \x3e 0 || window.location.pathname.indexOf(\x27LogonErrorView\x27) \x3e 0 || window.location.pathname.indexOf(\x27UserRegistrationForm\x27) \x3e 0  || window.location.pathname.indexOf(\x27OrderShippingSectionDisplayView\x27) \x3e 0){\r\n\tif (typeof BTanalytics !\x3d \x27undefined\x27) {\r\n\t\tBTanalytics.SSOLoginCheck \x3d \x27Y\x27;\r\n\t\t$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n\r\n\t}\r\n} else if (window.location.pathname.indexOf(\x27UserAccountView\x27) \x3e 0){\r\n\t/* do nothing - user already logged in and this is a \x22bonus\x22 logonTracking request that should be ignored */\r\n} else {\r\n\tbt_log(\x27ANF Authentication Complete\x27);\r\n\ts.linkTrackVars \x3d \x22events,prop23,eVar46\x22\r\n\ts.linkTrackEvents \x3d \x22event17\x22;\r\n\ts.events \x3d \x22event17\x22;\r\n\ts.tl(this,\x22o\x22,\x22Login\x22);\r\n}',{tagId:14404});
BrightTag.EventBinding.when('email opt-out').execute('document.cookie\x3d\x22BTsc\x3d\x22 + bt_data(\x27sitecatalyst page event\x27) + \x22;path\x3d/\x22;',{tagId:14404});
BrightTag.EventBinding.when('legal link - purchase - privacy policy').execute('s.linkTrackVars\x3d\x22prop23,prop42,eVar46\x22;\r\ns.prop42 \x3d \x22purchsect:privacy policy\x22;\r\ns.tl(this,\x22o\x22,\x22Page Feature\x22);',{tagId:14404});
BrightTag.EventBinding.when('find in store attempt').execute('var c_v22 \x3d s.eVar22;\r\ns.eVar22 \x3d \x22find in store\x22;\r\ns.linkTrackVars \x3d \x22events,prop15,prop23,eVar46\x22;\r\ns.linkTrackEvents \x3d \x22event63\x22;\r\ns.events\x3d\x22event63\x22;\r\ns.prop15 \x3d \x22Find In Store Attempt\x22;\r\ns.tl(true,\x22o\x22,\x22Page Feature\x22);\r\n\r\ns.eVar22 \x3d c_v22;',{tagId:14404});
BrightTag.EventBinding.when('add giftbox').execute('try {\r\n    /* Set up the object for this item\x27s Add To Bag */\r\n\tdelete BTanalytics.ATB;\r\n\tBTanalytics.ATB \x3d {};\r\n\t/* due to duplicate collection IDs on this page, we need to use the part number (short sku) to identify which row contains the item being added */\r\n\tBTanalytics.ATB.loadedPartNumber \x3d \x27GIFTBOX\x27;\r\n\tBTanalytics.ATB.addedCollectionId \x3d \x27GIFTBOX\x27;\r\n\tBTanalytics.ATB.loadedCollectionId \x3d \x27GIFTBOX\x27;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId] \x3d {}\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].partNumber \x3d BTanalytics.ATB.loadedPartNumber;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].ProdViewType \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].ProductFindingMethod \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].colorSeq \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].priceFlag \x3d \x221\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].listPrice \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].offerPrice \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].productId \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].collectionId \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].modifiedLongSku \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].brandDept \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].classNumber \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].styleNumber \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].webProductId \x3d \x22GIFTBOX\x22;\r\n\t/* Key Item Number */\r\n\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].shortSku \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].selectedSize \x3d \x22\x22;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].quantity \x3d 1;\r\n\tBTanalytics.ATB[BTanalytics.ATB.addedCollectionId].subtotal \x3d \x22\x22;\r\n\r\n\r\n        $(window).trigger(\x27analytics.addToBagStandard\x27);\r\n} catch (e) {\r\n//\tbt_log(\x27Add Giftbox click says: unknown error\x27);\r\n}',{tagId:14404});
BrightTag.EventBinding.when('foresee invite decline').execute('s.linkTrackVars\x3d\x22pageName,prop16,prop22,prop23,prop30,eVar1,eVar11,eVar16,eVar46\x22;\r\ns.eVar16\x3d\x22foresee invite decline\x22;\r\n\r\n/*turn off foresee tracking for this user */\r\nBTanalytics.fs_track \x3d \x22N\x22;\r\n$.cookie(\x27BTanalytics\x27,JSON.stringify(BTanalytics),{path:\x27/\x27});\r\n$.cookie(\x27fsr.s\x27, \x27\x27, {\r\n\texpiration:-1,\r\n\tpath: \x27/\x27,\r\n\tdomain: \x27.abercrombie.com\x27 \r\n});\r\n\r\ns.tl(this,\x27o\x27,\x27ForeSee\x27);',{tagId:14404});
BrightTag.EventBinding.when('find in store error').execute('s.linkTrackEvents \x3d \x22\x22;\r\ns.linkTrackVars \x3d \x22prop13,prop23,eVar46\x22;\r\ns.prop13 \x3d \x27find in store error number \x27 + bt_data(\x27find in store error code\x27);\r\ns.tl(this,\x22o\x22,\x22Find In Store Processing Error\x22);  ',{tagId:14404});
BrightTag.EventBinding.when('rising stars click').execute('var clickVal \x3d bt_data(\x27rising stars click value\x27).split(\x27:\x27);\r\nvar content \x3d category \x3d subcategory \x3d \x22\x22;\r\nif (clickVal[1].length \x3e 0 ) { \r\n\tcontent \x3d bt_data(\x27rising stars click value\x27);\r\n\tcategory \x3d \x22:\x22 + clickVal[1] ;\r\n}\r\ntry {\r\n\tif (clickVal[2].length \x3e 0 ) { \r\n\t\tsubcategory \x3d \x22:\x22 + clickVal[2] ;\r\n\t}\r\n} catch(e) {\r\n\tsubcategory \x3d \x22\x22;\r\n}\r\n\r\ns.products \x3d s.events \x3d s.prop15 \x3d s.prop49 \x3d \x27\x27;\r\n\r\ns.pageName\x3dbt_data(\x27brand code\x27) + \x22:\x22 + bt_data(\x27country code\x27) + \x22:rising stars\x22 + content ;\r\ns.pageName\x3ds.eVar46\x3ds.pageName.toLowerCase();\r\n\r\ns.prop23\x3dbt_data(\x27brand code\x27) + \x22:rising stars\x22 + content ;\r\ns.prop23\x3ds.prop23.toLowerCase();\r\n\r\nif (bt_data(\x27rising stars click value\x27) \x3d\x3d \x22:matchmaker\x22) {\r\n    s.prop49\x3d\x22rising stars: matchmaker\x22;\r\n}\r\n\r\nif (bt_data(\x27rising stars click value\x27) \x3d\x3d \x22:app\x22) {\r\n    s.prop49\x3d\x22rising stars: app\x22;\r\n}\r\n\r\ns.t();',{tagId:14404});
BrightTag.EventBinding.when('video player play').execute('s.linkTrackVars \x3d \x22prop23,eVar46,prop49\x22;\r\ns.prop49 \x3d s.eVar46.split(\x22:\x22).slice(-1)[0].toString() + \x22:video player:\x22 + bt_data(\x27video name\x27);\r\ns.tl(this,\x22o\x22,\x22Video Interaction\x22);',{tagId:14404});
BrightTag.EventBinding.when('quick view initiate').execute('_gaq.push([\x27_trackEvent\x27, \x27QuickShop\x27, \x27QuickShopButton\x27,$.trim($(this).parent().siblings(\x27.name\x27).text())]);',{tagId:15073});
BrightTag.EventBinding.when('share via facebook').execute('_gaq.push([\x27_trackEvent\x27, \x27WishListShare\x27, \x27FacebookShare\x27]);',{tagId:15073});
BrightTag.EventBinding.when('share via twitter').execute('_gaq.push([\x27_trackEvent\x27, (window.location.pathname.indexOf(\x27ProductDisplay\x27)) \x3e 0 ? \x27ProductShare\x27 : \x27WishListShare\x27, \x27TwitterShare\x27]);',{tagId:15073});
